<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/.env.local">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/.env.local" />
              <option name="originalContent" value="# Gemini AI API Configuration&#10;# Lấy API Key từ: https://aistudio.google.com/apikey&#10;API_KEY=AIzaSyDWfTFiI75pPeAn34_qpQxQkV8-Oglpa0g&#10;&#10;# Database URL (nếu cần)&#10;# DATABASE_URL=your_database_url&#10;&#10;# Other environment variables&#10;# Add your other configurations below&#10;&#10; " />
              <option name="updatedContent" value="# Gemini AI API Configuration&#10;# Lấy API Key từ: https://aistudio.google.com/apikey&#10;API_KEY=AIzaSyDWfTFiI75pPeAn34_qpQxQkV8-Oglpa0g&#10;&#10;# Database URL (nếu cần)&#10;# DATABASE_URL=your_database_url&#10;&#10;# Other environment variables&#10;# Add your other configurations below&#10;&#10; " />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/constants.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/constants.ts" />
              <option name="originalContent" value="import {Question, StudentProfile, TestType} from './types';&#10;&#10;// Mock Student Profile based on the screenshot&#10;export const STUDENT_PROFILE: StudentProfile = {&#10;    name: &quot;Nguyễn Văn A&quot;,&#10;    id: &quot;HS001&quot;,&#10;    avatar: &quot;https://picsum.photos/200/200&quot;,&#10;    email: &quot;a.nguyen@example.com&quot;,&#10;    phone: &quot;0123456789&quot;,&#10;    dob: &quot;2005-01-15&quot;,&#10;    location: &quot;Hà Nội, Việt Nam&quot;,&#10;    gpa: 3.8,&#10;    ielts: 7.5,&#10;    targetMajor: &quot;Computer Science&quot;,&#10;    awards: [&quot;Huy chương Vàng Toán học Quốc tế&quot;, &quot;Giải Nhất Hackathon 2024&quot;]&#10;};&#10;&#10;// Extracted from PDF - RIASEC (Holland Code)&#10;export const RIASEC_QUESTIONS: Question[] = [&#10;    {id: 1, type: 'RIASEC', text: &quot;Test the quality of parts before shipment&quot;, category: 'R'},&#10;    {id: 2, type: 'RIASEC', text: &quot;Lay brick or tile&quot;, category: 'R'},&#10;    {id: 3, type: 'RIASEC', text: &quot;Work on an offshore oil-drilling rig&quot;, category: 'R'},&#10;    {id: 10, type: 'RIASEC', text: &quot;Study animal behavior&quot;, category: 'I'},&#10;    {id: 11, type: 'RIASEC', text: &quot;Do research on plants or animals&quot;, category: 'I'},&#10;    {id: 13, type: 'RIASEC', text: &quot;Conduct biological research&quot;, category: 'I'},&#10;    {id: 19, type: 'RIASEC', text: &quot;Design artwork for magazines&quot;, category: 'A'},&#10;    {id: 20, type: 'RIASEC', text: &quot;Write a song&quot;, category: 'A'},&#10;    {id: 21, type: 'RIASEC', text: &quot;Write books or plays&quot;, category: 'A'},&#10;    {id: 29, type: 'RIASEC', text: &quot;Help people with family-related problems&quot;, category: 'S'},&#10;    {id: 31, type: 'RIASEC', text: &quot;Teach children how to read&quot;, category: 'S'},&#10;    {id: 33, type: 'RIASEC', text: &quot;Sell restaurant franchises to individuals&quot;, category: 'E'},&#10;    {id: 39, type: 'RIASEC', text: &quot;Sell houses&quot;, category: 'E'},&#10;    {id: 41, type: 'RIASEC', text: &quot;Generate the monthly payroll checks for an office&quot;, category: 'C'},&#10;    {id: 44, type: 'RIASEC', text: &quot;Maintain employee records&quot;, category: 'C'},&#10;];&#10;&#10;// Extracted from PDF - Grit Scale&#10;export const GRIT_QUESTIONS: Question[] = [&#10;    {&#10;        id: 101,&#10;        type: 'GRIT',&#10;        text: &quot;Tôi đã vượt qua những khó khăn để chinh phục thử thách quan trọng.&quot;,&#10;        reverseScore: false&#10;    },&#10;    {&#10;        id: 102,&#10;        type: 'GRIT',&#10;        text: &quot;Đôi khi các ý tưởng và dự án mới khiến tôi xao lãng và không còn chú ý đến những ý tưởng trước đó.&quot;,&#10;        reverseScore: true&#10;    },&#10;    {id: 103, type: 'GRIT', text: &quot;Những điều tôi quan tâm thay đổi qua từng năm.&quot;, reverseScore: true},&#10;    {id: 104, type: 'GRIT', text: &quot;Tôi không nản lòng trước những khó khăn.&quot;, reverseScore: false},&#10;    {&#10;        id: 105,&#10;        type: 'GRIT',&#10;        text: &quot;Tôi bị cuốn hút bởi một ý tưởng hoặc dự án nào đó trong một thời gian ngắn, rồi tôi lại dần mất đi hứng thú.&quot;,&#10;        reverseScore: true&#10;    },&#10;    {id: 106, type: 'GRIT', text: &quot;Tôi là người chăm chỉ.&quot;, reverseScore: false},&#10;    {&#10;        id: 107,&#10;        type: 'GRIT',&#10;        text: &quot;Tôi thường lập mục tiêu này nhưng rồi lại chọn theo đuổi mục tiêu khác.&quot;,&#10;        reverseScore: true&#10;    },&#10;];&#10;&#10;// Extracted from PDF - MBTI (Simplified for Demo)&#10;export const MBTI_QUESTIONS: Question[] = [&#10;    {&#10;        id: 201, type: 'MBTI', dimension: 'EI',&#10;        text: &quot;Bạn thích công việc kiểu:&quot;,&#10;        optionA: &quot;Xã hội, giao tiếp&quot;, optionB: &quot;Thiết kế, nghiên cứu&quot;&#10;    },&#10;    {&#10;        id: 202, type: 'MBTI', dimension: 'EI',&#10;        text: &quot;Trong các cuộc giao tiếp, bạn là người:&quot;,&#10;        optionA: &quot;Bắt đầu cho cuộc nói chuyện.&quot;, optionB: &quot;Chỉ nói khi người khác bắt chuyện.&quot;&#10;    },&#10;    {&#10;        id: 203, type: 'MBTI', dimension: 'TF',&#10;        text: &quot;Bạn đánh giá sự việc dựa trên:&quot;,&#10;        optionA: &quot;Ý nghĩa, giá trị&quot;, optionB: &quot;Tính logic&quot;&#10;    },&#10;    {&#10;        id: 204, type: 'MBTI', dimension: 'JP',&#10;        text: &quot;Bạn là người có tác phong:&quot;,&#10;        optionA: &quot;Thong thả, thoải mái&quot;, optionB: &quot;Nhanh nhẹn, đúng giờ&quot;&#10;    },&#10;    {&#10;        id: 205, type: 'MBTI', dimension: 'SN',&#10;        text: &quot;Bạn thích các sự việc xảy ra:&quot;,&#10;        optionA: &quot;Có chọn lựa và suy tính&quot;, optionB: &quot;Một cách tự nhiên&quot;&#10;    },&#10;    {&#10;        id: 206, type: 'MBTI', dimension: 'TF',&#10;        text: &quot;Bạn là người thế nào:&quot;,&#10;        optionA: &quot;Là người có cái đầu lạnh&quot;, optionB: &quot;Là người có trái tim ấm&quot;&#10;    }&#10;];&#10;&#10;export const TEST_DESCRIPTIONS = {&#10;    MBTI: {&#10;        title: &quot;MBTI (Myers-Briggs)&quot;,&#10;        desc: &quot;Khám phá 16 nhóm tính cách để hiểu rõ điểm mạnh, điểm yếu và môi trường làm việc phù hợp.&quot;,&#10;        color: &quot;bg-blue-500&quot;&#10;    },&#10;    GRIT: {&#10;        title: &quot;Grit Scale&quot;,&#10;        desc: &quot;Đo lường sự bền bỉ và đam mê với các mục tiêu dài hạn. Yếu tố quan trọng để thành công khi du học.&quot;,&#10;        color: &quot;bg-purple-500&quot;&#10;    },&#10;    RIASEC: {&#10;        title: &quot;Sở thích nghề nghiệp (Holland)&quot;,&#10;        desc: &quot;Xác định nhóm ngành nghề phù hợp dựa trên 6 nhóm sở thích: Thực tế, Nghiên cứu, Nghệ thuật, Xã hội, Quản lý, Nghiệp vụ.&quot;,&#10;        color: &quot;bg-emerald-500&quot;&#10;    }&#10;};&#10;" />
              <option name="updatedContent" value="import {Question, StudentProfile, TestType} from '@/components/types';&#10;&#10;// Mock Student Profile based on the screenshot&#10;export const STUDENT_PROFILE: StudentProfile = {&#10;    id: &quot;HS001&quot;,&#10;    name: &quot;Nguyễn Văn A&quot;,&#10;    email: &quot;a.nguyen@example.com&quot;,&#10;    phone: &quot;0123456789&quot;,&#10;    address: &quot;Hà Nội, Việt Nam&quot;,&#10;    dob: &quot;2005-01-15&quot;,&#10;    avatarUrl: &quot;https://picsum.photos/200/200&quot;,&#10;    gpa: 3.8,&#10;    gpaScale: 4.0,&#10;    englishLevel: &quot;IELTS 7.5&quot;,&#10;    targetMajor: &quot;Computer Science&quot;,&#10;    targetCountry: &quot;USA&quot;,&#10;    extracurriculars: [&#10;        {&#10;            id: &quot;1&quot;,&#10;            title: &quot;Chủ tịch Câu lạc bộ Lập trình&quot;,&#10;            role: &quot;Chủ tịch&quot;,&#10;            year: &quot;2024&quot;,&#10;            description: &quot;Quản lý 50+ thành viên, tổ chức workshop và hackathon&quot;&#10;        }&#10;    ],&#10;    achievements: [&quot;Huy chương Vàng Toán học Quốc tế&quot;, &quot;Giải Nhất Hackathon 2024&quot;],&#10;    documents: []&#10;};&#10;&#10;// Extracted from PDF - RIASEC (Holland Code)&#10;export const RIASEC_QUESTIONS: Question[] = [&#10;    {id: 1, type: 'RIASEC', text: &quot;Test the quality of parts before shipment&quot;, category: 'R'},&#10;    {id: 2, type: 'RIASEC', text: &quot;Lay brick or tile&quot;, category: 'R'},&#10;    {id: 3, type: 'RIASEC', text: &quot;Work on an offshore oil-drilling rig&quot;, category: 'R'},&#10;    {id: 10, type: 'RIASEC', text: &quot;Study animal behavior&quot;, category: 'I'},&#10;    {id: 11, type: 'RIASEC', text: &quot;Do research on plants or animals&quot;, category: 'I'},&#10;    {id: 13, type: 'RIASEC', text: &quot;Conduct biological research&quot;, category: 'I'},&#10;    {id: 19, type: 'RIASEC', text: &quot;Design artwork for magazines&quot;, category: 'A'},&#10;    {id: 20, type: 'RIASEC', text: &quot;Write a song&quot;, category: 'A'},&#10;    {id: 21, type: 'RIASEC', text: &quot;Write books or plays&quot;, category: 'A'},&#10;    {id: 29, type: 'RIASEC', text: &quot;Help people with family-related problems&quot;, category: 'S'},&#10;    {id: 31, type: 'RIASEC', text: &quot;Teach children how to read&quot;, category: 'S'},&#10;    {id: 33, type: 'RIASEC', text: &quot;Sell restaurant franchises to individuals&quot;, category: 'E'},&#10;    {id: 39, type: 'RIASEC', text: &quot;Sell houses&quot;, category: 'E'},&#10;    {id: 41, type: 'RIASEC', text: &quot;Generate the monthly payroll checks for an office&quot;, category: 'C'},&#10;    {id: 44, type: 'RIASEC', text: &quot;Maintain employee records&quot;, category: 'C'},&#10;];&#10;&#10;// Extracted from PDF - Grit Scale&#10;export const GRIT_QUESTIONS: Question[] = [&#10;    {&#10;        id: 101,&#10;        type: 'GRIT',&#10;        text: &quot;Tôi đã vượt qua những khó khăn để chinh phục thử thách quan trọng.&quot;,&#10;        reverseScore: false&#10;    },&#10;    {&#10;        id: 102,&#10;        type: 'GRIT',&#10;        text: &quot;Đôi khi các ý tưởng và dự án mới khiến tôi xao lãng và không còn chú ý đến những ý tưởng trước đó.&quot;,&#10;        reverseScore: true&#10;    },&#10;    {id: 103, type: 'GRIT', text: &quot;Những điều tôi quan tâm thay đổi qua từng năm.&quot;, reverseScore: true},&#10;    {id: 104, type: 'GRIT', text: &quot;Tôi không nản lòng trước những khó khăn.&quot;, reverseScore: false},&#10;    {&#10;        id: 105,&#10;        type: 'GRIT',&#10;        text: &quot;Tôi bị cuốn hút bởi một ý tưởng hoặc dự án nào đó trong một thời gian ngắn, rồi tôi lại dần mất đi hứng thú.&quot;,&#10;        reverseScore: true&#10;    },&#10;    {id: 106, type: 'GRIT', text: &quot;Tôi là người chăm chỉ.&quot;, reverseScore: false},&#10;    {&#10;        id: 107,&#10;        type: 'GRIT',&#10;        text: &quot;Tôi thường lập mục tiêu này nhưng rồi lại chọn theo đuổi mục tiêu khác.&quot;,&#10;        reverseScore: true&#10;    },&#10;];&#10;&#10;// Extracted from PDF - MBTI (Simplified for Demo)&#10;export const MBTI_QUESTIONS: Question[] = [&#10;    {&#10;        id: 201, type: 'MBTI', dimension: 'EI',&#10;        text: &quot;Bạn thích công việc kiểu:&quot;,&#10;        optionA: &quot;Xã hội, giao tiếp&quot;, optionB: &quot;Thiết kế, nghiên cứu&quot;&#10;    },&#10;    {&#10;        id: 202, type: 'MBTI', dimension: 'EI',&#10;        text: &quot;Trong các cuộc giao tiếp, bạn là người:&quot;,&#10;        optionA: &quot;Bắt đầu cho cuộc nói chuyện.&quot;, optionB: &quot;Chỉ nói khi người khác bắt chuyện.&quot;&#10;    },&#10;    {&#10;        id: 203, type: 'MBTI', dimension: 'TF',&#10;        text: &quot;Bạn đánh giá sự việc dựa trên:&quot;,&#10;        optionA: &quot;Ý nghĩa, giá trị&quot;, optionB: &quot;Tính logic&quot;&#10;    },&#10;    {&#10;        id: 204, type: 'MBTI', dimension: 'JP',&#10;        text: &quot;Bạn là người có tác phong:&quot;,&#10;        optionA: &quot;Thong thả, thoải mái&quot;, optionB: &quot;Nhanh nhẹn, đúng giờ&quot;&#10;    },&#10;    {&#10;        id: 205, type: 'MBTI', dimension: 'SN',&#10;        text: &quot;Bạn thích các sự việc xảy ra:&quot;,&#10;        optionA: &quot;Có chọn lựa và suy tính&quot;, optionB: &quot;Một cách tự nhiên&quot;&#10;    },&#10;    {&#10;        id: 206, type: 'MBTI', dimension: 'TF',&#10;        text: &quot;Bạn là người thế nào:&quot;,&#10;        optionA: &quot;Là người có cái đầu lạnh&quot;, optionB: &quot;Là người có trái tim ấm&quot;&#10;    }&#10;];&#10;&#10;export const TEST_DESCRIPTIONS = {&#10;    MBTI: {&#10;        title: &quot;MBTI (Myers-Briggs)&quot;,&#10;        desc: &quot;Khám phá 16 nhóm tính cách để hiểu rõ điểm mạnh, điểm yếu và môi trường làm việc phù hợp.&quot;,&#10;        color: &quot;bg-blue-500&quot;&#10;    },&#10;    GRIT: {&#10;        title: &quot;Grit Scale&quot;,&#10;        desc: &quot;Đo lường sự bền bỉ và đam mê với các mục tiêu dài hạn. Yếu tố quan trọng để thành công khi du học.&quot;,&#10;        color: &quot;bg-purple-500&quot;&#10;    },&#10;    RIASEC: {&#10;        title: &quot;Sở thích nghề nghiệp (Holland)&quot;,&#10;        desc: &quot;Xác định nhóm ngành nghề phù hợp dựa trên 6 nhóm sở thích: Thực tế, Nghiên cứu, Nghệ thuật, Xã hội, Quản lý, Nghiệp vụ.&quot;,&#10;        color: &quot;bg-emerald-500&quot;&#10;    }&#10;};&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/app/checklist/page.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/app/checklist/page.tsx" />
              <option name="updatedContent" value="'use client'&#10;&#10;import AuthHeader from '@/components/dashboard/AuthHeader'&#10;import ChecklistPage from '@/components/dashboard/checklist/ChecklistPage'&#10;&#10;export default function Checklist() {&#10;    return (&#10;        &lt;&gt;&#10;            &lt;AuthHeader/&gt;&#10;            &lt;main className=&quot;min-h-screen bg-white dark:bg-gray-900&quot;&gt;&#10;                &lt;ChecklistPage/&gt;&#10;            &lt;/main&gt;&#10;        &lt;/&gt;&#10;    );&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/app/dashboard/tests/page.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/app/dashboard/tests/page.tsx" />
              <option name="originalContent" value="}&#10;&#10;" />
              <option name="updatedContent" value="'use client';&#10;&#10;import React, {useState} from 'react';&#10;import {useRouter} from 'next/navigation';&#10;import AuthHeader from '@/components/dashboard/AuthHeader';&#10;import TestSelection from '@/components/Test/TestSelection';&#10;import TestView from '@/components/Test/TestView';&#10;import ResultView from '@/components/Test/ResultView';&#10;import {TestType, Question, TestResult, MajorRecommendation} from '@/components/types';&#10;import {MBTI_QUESTIONS, GRIT_QUESTIONS, RIASEC_QUESTIONS} from '@/constants';&#10;import {getMajorRecommendations} from '@/service/geminiService';&#10;&#10;type ViewState = 'selection' | 'test' | 'result';&#10;&#10;export default function TestsPage() {&#10;    const router = useRouter();&#10;    const [viewState, setViewState] = useState&lt;ViewState&gt;('selection');&#10;    const [currentTestType, setCurrentTestType] = useState&lt;TestType | null&gt;(null);&#10;    const [testResult, setTestResult] = useState&lt;TestResult | null&gt;(null);&#10;    const [recommendations, setRecommendations] = useState&lt;MajorRecommendation[]&gt;([]);&#10;    const [loadingRecommendations, setLoadingRecommendations] = useState(false);&#10;&#10;    const handleStartTest = (type: TestType) =&gt; {&#10;        setCurrentTestType(type);&#10;        setViewState('test');&#10;    };&#10;&#10;    const getQuestionsForTest = (type: TestType): Question[] =&gt; {&#10;        switch (type) {&#10;            case 'MBTI':&#10;                return MBTI_QUESTIONS;&#10;            case 'GRIT':&#10;                return GRIT_QUESTIONS;&#10;            case 'RIASEC':&#10;                return RIASEC_QUESTIONS;&#10;            default:&#10;                return [];&#10;        }&#10;    };&#10;&#10;    const calculateMBTIResult = (answers: Record&lt;number, string | number&gt;): TestResult =&gt; {&#10;        const scores: Record&lt;string, number&gt; = {E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0};&#10;&#10;        MBTI_QUESTIONS.forEach(q =&gt; {&#10;            const answer = answers[q.id];&#10;            if (answer === 'A' &amp;&amp; q.dimension) {&#10;                scores[q.dimension[0]]++;&#10;            } else if (answer === 'B' &amp;&amp; q.dimension) {&#10;                scores[q.dimension[1]]++;&#10;            }&#10;        });&#10;&#10;        const type =&#10;            (scores.E &gt; scores.I ? 'E' : 'I') +&#10;            (scores.S &gt; scores.N ? 'S' : 'N') +&#10;            (scores.T &gt; scores.F ? 'T' : 'F') +&#10;            (scores.J &gt; scores.P ? 'J' : 'P');&#10;&#10;        // Convert to percentages&#10;        const totalEI = scores.E + scores.I;&#10;        const totalSN = scores.S + scores.N;&#10;        const totalTF = scores.T + scores.F;&#10;        const totalJP = scores.J + scores.P;&#10;&#10;        const percentageScores = {&#10;            E: totalEI &gt; 0 ? Math.round((scores.E / totalEI) * 100) : 0,&#10;            I: totalEI &gt; 0 ? Math.round((scores.I / totalEI) * 100) : 0,&#10;            S: totalSN &gt; 0 ? Math.round((scores.S / totalSN) * 100) : 0,&#10;            N: totalSN &gt; 0 ? Math.round((scores.N / totalSN) * 100) : 0,&#10;            T: totalTF &gt; 0 ? Math.round((scores.T / totalTF) * 100) : 0,&#10;            F: totalTF &gt; 0 ? Math.round((scores.F / totalTF) * 100) : 0,&#10;            J: totalJP &gt; 0 ? Math.round((scores.J / totalJP) * 100) : 0,&#10;            P: totalJP &gt; 0 ? Math.round((scores.P / totalJP) * 100) : 0,&#10;        };&#10;&#10;        const descriptions: Record&lt;string, string&gt; = {&#10;            'INTJ': 'Kiến trúc sư - Người có tư duy chiến lược, sáng tạo và luôn có kế hoạch cho mọi việc.',&#10;            'INTP': 'Nhà logic học - Người đổi mới, ham học hỏi và luôn tìm kiếm kiến thức mới.',&#10;            'ENTJ': 'Chỉ huy quan - Lãnh đạo táo bạo, giàu trí tưởng tượng và ý chí mạnh mẽ.',&#10;            'ENTP': 'Nhà tranh luận - Người thông minh, tò mò và không thể cưỡng lại trí thách thức.',&#10;            'INFJ': 'Người ủng hộ - Lý tưởng hóa, tầm nhìn xa và đầy cảm hứng.',&#10;            'INFP': 'Người hòa giải - Thi sĩ, tử tế và luôn sẵn sàng giúp đỡ.',&#10;            'ENFJ': 'Người chủ xướng - Lãnh đạo đầy cảm hứng, thu hút và dễ gây ấn tượng.',&#10;            'ENFP': 'Nhà vận động - Người nhiệt tình, sáng tạo và lạc quan.',&#10;            'ISTJ': 'Người trách nhiệm - Thực tế, đáng tin cậy và tỉ mỉ.',&#10;            'ISFJ': 'Người bảo vệ - Tận tâm, ấm áp và luôn sẵn sàng bảo vệ người thân.',&#10;            'ESTJ': 'Người điều hành - Quản lý giỏi, thẳng thắn và truyền thống.',&#10;            'ESFJ': 'Người cung cấp - Quan tâm, hợp tác và luôn muốn giúp đỡ.',&#10;            'ISTP': 'Người khéo léo - Táo bạo, thực tế và thích thử nghiệm.',&#10;            'ISFP': 'Nghệ sĩ - Linh hoạt, dễ chịu và sẵn sàng khám phá.',&#10;            'ESTP': 'Doanh nhân - Năng động, thông minh và sống hết mình.',&#10;            'ESFP': 'Nghệ sĩ biểu diễn - Tự phát, nhiệt tình và vui vẻ.'&#10;        };&#10;&#10;        return {&#10;            type: 'MBTI',&#10;            scores: percentageScores,&#10;            rawLabel: type,&#10;            description: descriptions[type] || 'Kết quả MBTI của bạn.'&#10;        };&#10;    };&#10;&#10;    const calculateGritResult = (answers: Record&lt;number, string | number&gt;): TestResult =&gt; {&#10;        let perseveranceScore = 0;&#10;        let consistencyScore = 0;&#10;        let perseveranceCount = 0;&#10;        let consistencyCount = 0;&#10;&#10;        GRIT_QUESTIONS.forEach(q =&gt; {&#10;            const answer = Number(answers[q.id]) || 0;&#10;            const score = q.reverseScore ? (6 - answer) : answer;&#10;&#10;            // Odd questions = Perseverance, Even = Consistency&#10;            if (q.id % 2 === 1) {&#10;                perseveranceScore += score;&#10;                perseveranceCount++;&#10;            } else {&#10;                consistencyScore += score;&#10;                consistencyCount++;&#10;            }&#10;        });&#10;&#10;        const avgPerseverance = perseveranceCount &gt; 0 ? perseveranceScore / perseveranceCount : 0;&#10;        const avgConsistency = consistencyCount &gt; 0 ? consistencyScore / consistencyCount : 0;&#10;        const gritScore = (avgPerseverance + avgConsistency) / 2;&#10;&#10;        let label = 'Low Grit';&#10;        let description = 'Bạn cần phát triển thêm sự kiên trì và đam mê với mục tiêu dài hạn.';&#10;&#10;        if (gritScore &gt;= 4.0) {&#10;            label = 'High Grit';&#10;            description = 'Bạn có sự kiên trì và đam mê xuất sắc với các mục tiêu dài hạn!';&#10;        } else if (gritScore &gt;= 3.0) {&#10;            label = 'Moderate Grit';&#10;            description = 'Bạn có mức độ kiên trì khá tốt, nhưng vẫn có thể cải thiện thêm.';&#10;        }&#10;&#10;        return {&#10;            type: 'GRIT',&#10;            scores: {&#10;                Grit: parseFloat(gritScore.toFixed(2)),&#10;                Perseverance: parseFloat(avgPerseverance.toFixed(2)),&#10;                Consistency: parseFloat(avgConsistency.toFixed(2))&#10;            },&#10;            rawLabel: label,&#10;            description: description&#10;        };&#10;    };&#10;&#10;    const calculateRIASECResult = (answers: Record&lt;number, string | number&gt;): TestResult =&gt; {&#10;        const scores: Record&lt;string, number&gt; = {R: 0, I: 0, A: 0, S: 0, E: 0, C: 0};&#10;&#10;        RIASEC_QUESTIONS.forEach(q =&gt; {&#10;            const answer = Number(answers[q.id]) || 0;&#10;            if (q.category) {&#10;                scores[q.category] += answer;&#10;            }&#10;        });&#10;&#10;        const sortedCategories = Object.entries(scores)&#10;            .sort(([, a], [, b]) =&gt; b - a)&#10;            .map(([cat]) =&gt; cat);&#10;&#10;        const topCode = sortedCategories.slice(0, 3).join('');&#10;&#10;        const descriptions: Record&lt;string, string&gt; = {&#10;            'R': 'Realistic (Thực tế) - Thích làm việc với tay, máy móc, thực hành.',&#10;            'I': 'Investigative (Nghiên cứu) - Thích tư duy, nghiên cứu, khám phá.',&#10;            'A': 'Artistic (Nghệ thuật) - Thích sáng tạo, nghệ thuật, thể hiện bản thân.',&#10;            'S': 'Social (Xã hội) - Thích giúp đỡ, dạy dỗ, chăm sóc người khác.',&#10;            'E': 'Enterprising (Quản lý) - Thích lãnh đạo, thuyết phục, kinh doanh.',&#10;            'C': 'Conventional (Nghiệp vụ) - Thích tổ chức, quản lý dữ liệu, chi tiết.'&#10;        };&#10;&#10;        return {&#10;            type: 'RIASEC',&#10;            scores: scores,&#10;            rawLabel: topCode,&#10;            description: `Nhóm ngành nghề phù hợp: ${descriptions[sortedCategories[0]]} ${descriptions[sortedCategories[1]]} ${descriptions[sortedCategories[2]]}`&#10;        };&#10;    };&#10;&#10;    const handleTestComplete = async (answers: Record&lt;number, string | number&gt;) =&gt; {&#10;        if (!currentTestType) return;&#10;&#10;        let result: TestResult;&#10;&#10;        switch (currentTestType) {&#10;            case 'MBTI':&#10;                result = calculateMBTIResult(answers);&#10;                break;&#10;            case 'GRIT':&#10;                result = calculateGritResult(answers);&#10;                break;&#10;            case 'RIASEC':&#10;                result = calculateRIASECResult(answers);&#10;                break;&#10;            default:&#10;                return;&#10;        }&#10;&#10;        setTestResult(result);&#10;        setViewState('result');&#10;&#10;        // Fetch AI major recommendations based purely on personality test&#10;        setLoadingRecommendations(true);&#10;        try {&#10;            const recs = await getMajorRecommendations(result);&#10;            setRecommendations(recs);&#10;        } catch (error) {&#10;            console.error('Failed to fetch major recommendations:', error);&#10;            setRecommendations([]);&#10;        } finally {&#10;            setLoadingRecommendations(false);&#10;        }&#10;    };&#10;&#10;    const handleBackToSelection = () =&gt; {&#10;        setViewState('selection');&#10;        setCurrentTestType(null);&#10;    };&#10;&#10;    const handleBackToDashboard = () =&gt; {&#10;        router.push('/dashboard/profile');&#10;    };&#10;&#10;    return (&#10;        &lt;&gt;&#10;            &lt;AuthHeader/&gt;&#10;            &lt;main&#10;                className=&quot;min-h-screen bg-white dark:bg-gradient-to-br dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 transition-colors duration-300&quot;&gt;&#10;                &lt;div className=&quot;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8&quot;&gt;&#10;                    {viewState === 'selection' &amp;&amp; (&#10;                        &lt;TestSelection onStartTest={handleStartTest}/&gt;&#10;                    )}&#10;&#10;                    {viewState === 'test' &amp;&amp; currentTestType &amp;&amp; (&#10;                        &lt;TestView&#10;                            testType={currentTestType}&#10;                            questions={getQuestionsForTest(currentTestType)}&#10;                            onBack={handleBackToSelection}&#10;                            onComplete={handleTestComplete}&#10;                        /&gt;&#10;                    )}&#10;&#10;                    {viewState === 'result' &amp;&amp; (&#10;                        &lt;ResultView&#10;                            result={testResult}&#10;                            recommendations={recommendations}&#10;                            loadingRecommendations={loadingRecommendations}&#10;                            onBackToDashboard={handleBackToDashboard}&#10;                        /&gt;&#10;                    )}&#10;                &lt;/div&gt;&#10;            &lt;/main&gt;&#10;        &lt;/&gt;&#10;    );&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/Register.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/Register.tsx" />
              <option name="updatedContent" value="&quot;use client&quot;&#10;import Image from 'next/image'&#10;import { useState } from 'react'&#10;import Link from 'next/link'&#10;&#10;interface RegisterProps {&#10;    onRegister: (email: string, name: string) =&gt; void&#10;}&#10;&#10;export default function Register({ onRegister }: RegisterProps) {&#10;    const [registerData, setRegisterData] = useState({&#10;        name: '',&#10;        email: '',&#10;        password: '',&#10;        confirmPassword: ''&#10;    })&#10;&#10;    const handleRegister = (e: React.FormEvent) =&gt; {&#10;        e.preventDefault()&#10;        // Simple validation&#10;        if (registerData.password !== registerData.confirmPassword) {&#10;            alert('Mật khẩu không khớp!')&#10;            return&#10;        }&#10;&#10;        if (registerData.password.length &lt; 6) {&#10;            alert('Mật khẩu phải có ít nhất 6 ký tự!')&#10;            return&#10;        }&#10;&#10;        onRegister(registerData.email, registerData.name)&#10;    }&#10;&#10;    const handleInputChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {&#10;        setRegisterData({&#10;            ...registerData,&#10;            [e.target.name]: e.target.value&#10;        })&#10;    }&#10;&#10;    return (&#10;        &lt;div&#10;            className=&quot;w-full max-w-5xl bg-white dark:bg-card rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row border border-gray-100 dark:border-white/10 transition-all duration-300&quot;&gt;&#10;&#10;            {/* 1. LEFT SIDE - IMAGE (Banner) */}&#10;            &lt;div className=&quot;w-full md:w-1/2 relative h-64 md:h-auto min-h-[400px] md:min-h-[600px]&quot;&gt;&#10;                &lt;Image&#10;                    src=&quot;https://images.unsplash.com/photo-1541339907198-e08756dedf3f?w=800&amp;h=600&amp;fit=crop&quot;&#10;                    alt=&quot;University Campus&quot;&#10;                    fill&#10;                    className=&quot;object-cover&quot;&#10;                    loading=&quot;eager&quot;&#10;                    priority&#10;                /&gt;&#10;                {/* Overlay Gradient giúp chữ dễ đọc hơn */}&#10;                &lt;div&#10;                    className=&quot;absolute inset-0 bg-gradient-to-t from-primary/90 to-primary/20 mix-blend-multiply&quot;&gt;&lt;/div&gt;&#10;&#10;                &lt;div className=&quot;absolute bottom-8 left-8 right-8 text-white z-10&quot;&gt;&#10;                    &lt;h2 className=&quot;text-3xl font-heading font-bold mb-2 text-white&quot;&gt;Holyann Explore&lt;/h2&gt;&#10;                    &lt;p className=&quot;text-lg opacity-90 font-sans&quot;&gt;Your Gateway to Global Education&lt;/p&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            {/* 2. RIGHT SIDE - FORM */}&#10;            &lt;div&#10;                className=&quot;w-full md:w-1/2 p-8 md:p-12 flex flex-col justify-center bg-white dark:bg-card transition-colors overflow-y-auto&quot;&gt;&#10;                &lt;div className=&quot;max-w-md mx-auto w-full&quot;&gt;&#10;                    &lt;div className=&quot;text-center mb-8&quot;&gt;&#10;                        &lt;h1 className=&quot;text-3xl font-heading font-bold text-primary dark:text-sky-400 mb-2&quot;&gt;Đăng&#10;                            Ký&lt;/h1&gt;&#10;                        &lt;p className=&quot;text-muted-foreground&quot;&gt;Tham gia để bắt đầu hành trình du học của bạn&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;form onSubmit={handleRegister} className=&quot;space-y-5&quot;&gt;&#10;                        &lt;div&gt;&#10;                            &lt;label htmlFor=&quot;name&quot; className=&quot;block text-sm font-semibold text-foreground mb-2&quot;&gt;&#10;                                Họ và Tên&#10;                            &lt;/label&gt;&#10;                            &lt;input&#10;                                type=&quot;text&quot;&#10;                                id=&quot;name&quot;&#10;                                name=&quot;name&quot;&#10;                                value={registerData.name}&#10;                                onChange={handleInputChange}&#10;                                className=&quot;w-full px-4 py-3 bg-muted/30 dark:bg-muted/50 border border-input rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all dark:text-white&quot;&#10;                                placeholder=&quot;Nhập họ và tên&quot;&#10;                                required&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div&gt;&#10;                            &lt;label htmlFor=&quot;email&quot; className=&quot;block text-sm font-semibold text-foreground mb-2&quot;&gt;&#10;                                Email&#10;                            &lt;/label&gt;&#10;                            &lt;input&#10;                                type=&quot;email&quot;&#10;                                id=&quot;email&quot;&#10;                                name=&quot;email&quot;&#10;                                value={registerData.email}&#10;                                onChange={handleInputChange}&#10;                                className=&quot;w-full px-4 py-3 bg-muted/30 dark:bg-muted/50 border border-input rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all dark:text-white&quot;&#10;                                placeholder=&quot;name@example.com&quot;&#10;                                required&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div&gt;&#10;                            &lt;label htmlFor=&quot;password&quot; className=&quot;block text-sm font-semibold text-foreground mb-2&quot;&gt;&#10;                                Mật khẩu&#10;                            &lt;/label&gt;&#10;                            &lt;input&#10;                                type=&quot;password&quot;&#10;                                id=&quot;password&quot;&#10;                                name=&quot;password&quot;&#10;                                value={registerData.password}&#10;                                onChange={handleInputChange}&#10;                                className=&quot;w-full px-4 py-3 bg-muted/30 dark:bg-muted/50 border border-input rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all dark:text-white&quot;&#10;                                placeholder=&quot;••••••••&quot;&#10;                                required&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div&gt;&#10;                            &lt;label htmlFor=&quot;confirmPassword&quot; className=&quot;block text-sm font-semibold text-foreground mb-2&quot;&gt;&#10;                                Xác nhận mật khẩu&#10;                            &lt;/label&gt;&#10;                            &lt;input&#10;                                type=&quot;password&quot;&#10;                                id=&quot;confirmPassword&quot;&#10;                                name=&quot;confirmPassword&quot;&#10;                                value={registerData.confirmPassword}&#10;                                onChange={handleInputChange}&#10;                                className=&quot;w-full px-4 py-3 bg-muted/30 dark:bg-muted/50 border border-input rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all dark:text-white&quot;&#10;                                placeholder=&quot;••••••••&quot;&#10;                                required&#10;                            /&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;button&#10;                            type=&quot;submit&quot;&#10;                            className=&quot;w-full bg-primary hover:bg-primary/90 text-white font-heading font-bold py-3.5 px-4 rounded-xl shadow-lg hover:shadow-primary/30 transform hover:-translate-y-0.5 transition-all duration-200&quot;&#10;                        &gt;&#10;                            Tạo Tài Khoản&#10;                        &lt;/button&gt;&#10;                    &lt;/form&gt;&#10;&#10;                    &lt;p className=&quot;mt-8 text-center text-sm text-muted-foreground&quot;&gt;&#10;                        Đã có tài khoản?{' '}&#10;                        &lt;Link href=&quot;/login&quot; className=&quot;text-accent hover:underline font-bold&quot;&gt;&#10;                            Đăng nhập ngay&#10;                        &lt;/Link&gt;&#10;                    &lt;/p&gt;&#10;&#10;                    {/* Social Login Options */}&#10;                    &lt;div className=&quot;mt-8&quot;&gt;&#10;                        &lt;div className=&quot;relative mb-6&quot;&gt;&#10;                            &lt;div className=&quot;absolute inset-0 flex items-center&quot;&gt;&#10;                                &lt;div className=&quot;w-full border-t border-border&quot;/&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;relative flex justify-center text-sm&quot;&gt;&#10;                                &lt;span&#10;                                    className=&quot;px-3 bg-white dark:bg-card text-muted-foreground&quot;&gt;Hoặc đăng ký nhanh&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;grid grid-cols-2 gap-4&quot;&gt;&#10;                            &lt;button&#10;                                type=&quot;button&quot;&#10;                                className=&quot;flex items-center justify-center gap-2 px-4 py-2.5 border border-border rounded-xl hover:bg-muted transition-colors dark:text-white group&quot;&gt;&#10;                                &lt;svg className=&quot;w-5 h-5 group-hover:scale-110 transition-transform&quot; viewBox=&quot;0 0 24 24&quot;&gt;&#10;                                    &lt;path fill=&quot;#4285F4&quot;&#10;                                          d=&quot;M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z&quot;/&gt;&#10;                                    &lt;path fill=&quot;#34A853&quot;&#10;                                          d=&quot;M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z&quot;/&gt;&#10;                                    &lt;path fill=&quot;#FBBC05&quot;&#10;                                          d=&quot;M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z&quot;/&gt;&#10;                                    &lt;path fill=&quot;#EA4335&quot;&#10;                                          d=&quot;M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z&quot;/&gt;&#10;                                &lt;/svg&gt;&#10;                                &lt;span className=&quot;font-medium text-sm&quot;&gt;Google&lt;/span&gt;&#10;                            &lt;/button&gt;&#10;&#10;                            &lt;button&#10;                                type=&quot;button&quot;&#10;                                className=&quot;flex items-center justify-center gap-2 px-4 py-2.5 border border-border rounded-xl hover:bg-muted transition-colors dark:text-white group&quot;&gt;&#10;                                &lt;svg className=&quot;w-5 h-5 group-hover:scale-110 transition-transform&quot; fill=&quot;#1877F2&quot;&#10;                                     viewBox=&quot;0 0 24 24&quot;&gt;&#10;                                    &lt;path&#10;                                        d=&quot;M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z&quot;/&gt;&#10;                                &lt;/svg&gt;&#10;                                &lt;span className=&quot;font-medium text-sm&quot;&gt;Facebook&lt;/span&gt;&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    )&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/Test/ResultChart.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/Test/ResultChart.tsx" />
              <option name="originalContent" value="import React from 'react';&#10;import {&#10;    PieChart, Pie, Cell, ResponsiveContainer, RadarChart, PolarGrid,&#10;    PolarAngleAxis, PolarRadiusAxis, Radar, Tooltip, BarChart, Bar,&#10;    XAxis, YAxis, CartesianGrid, Legend&#10;} from 'recharts';&#10;import {TestResult} from '../types';&#10;&#10;interface ResultChartsProps {&#10;    result: TestResult;&#10;}&#10;&#10;const ResultCharts: React.FC&lt;ResultChartsProps&gt; = ({result}) =&gt; {&#10;    // --- Data Preparation Logic ---&#10;&#10;    // 1. RIASEC Data&#10;    const riasecData = result.type === 'RIASEC'&#10;        ? Object.entries(result.scores).map(([key, value]) =&gt; ({subject: key, A: value, fullMark: 25}))&#10;        : [];&#10;&#10;    // 2. MBTI Data&#10;    const mbtiChartData = result.type === 'MBTI' ? [&#10;        {name: 'Energy', A: result.scores.E, B: result.scores.I, labelA: 'Extraversion', labelB: 'Introversion'},&#10;        {name: 'Mind', A: result.scores.S, B: result.scores.N, labelA: 'Sensing', labelB: 'Intuition'},&#10;        {name: 'Nature', A: result.scores.T, B: result.scores.F, labelA: 'Thinking', labelB: 'Feeling'},&#10;        {name: 'Tactics', A: result.scores.J, B: result.scores.P, labelA: 'Judging', labelB: 'Prospecting'},&#10;    ] : [];&#10;&#10;    // 3. Grit Data&#10;    const gritScore = result.type === 'GRIT' ? result.scores.Grit : 0;&#10;    const gritChartData = [&#10;        {name: 'Score', value: gritScore},&#10;        {name: 'Remaining', value: parseFloat((5 - gritScore).toFixed(2))}&#10;    ];&#10;&#10;    // Grit Breakdown Data (Consistency vs Perseverance)&#10;    const gritBreakdownData = result.type === 'GRIT' ? [&#10;        {name: 'Bền bỉ nỗ lực', score: result.scores.Perseverance || 0, fill: '#8b5cf6'},&#10;        {name: 'Duy trì hứng thú', score: result.scores.Consistency || 0, fill: '#ec4899'},&#10;    ] : [];&#10;&#10;    const GRIT_COLORS = ['#9333ea', '#e5e7eb']; // Purple and Gray&#10;&#10;    return (&#10;        &lt;div&#10;            className=&quot;bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col items-center min-h-[400px]&quot;&gt;&#10;            &lt;h3 className=&quot;text-lg font-bold text-gray-800 mb-6 self-start w-full border-b border-gray-100 pb-2&quot;&gt;&#10;                Biểu đồ phân tích&#10;            &lt;/h3&gt;&#10;&#10;            {/* --- RIASEC RADAR CHART --- */}&#10;            {result.type === 'RIASEC' &amp;&amp; (&#10;                &lt;div className=&quot;w-full h-[300px] mt-4&quot;&gt;&#10;                    &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                        &lt;RadarChart cx=&quot;50%&quot; cy=&quot;50%&quot; outerRadius=&quot;80%&quot; data={riasecData}&gt;&#10;                            &lt;PolarGrid/&gt;&#10;                            &lt;PolarAngleAxis dataKey=&quot;subject&quot; tick={{fill: '#4b5563', fontSize: 12}}/&gt;&#10;                            &lt;PolarRadiusAxis angle={30} domain={[0, 25]} tick={false}/&gt;&#10;                            &lt;Radar name=&quot;My Interest&quot; dataKey=&quot;A&quot; stroke=&quot;#2563eb&quot; fill=&quot;#3b82f6&quot; fillOpacity={0.6}/&gt;&#10;                            &lt;Tooltip/&gt;&#10;                        &lt;/RadarChart&gt;&#10;                    &lt;/ResponsiveContainer&gt;&#10;                &lt;/div&gt;&#10;            )}&#10;&#10;            {/* --- GRIT CHARTS --- */}&#10;            {result.type === 'GRIT' &amp;&amp; (&#10;                &lt;div className=&quot;flex flex-col w-full h-full gap-8&quot;&gt;&#10;                    {/* Gauge Chart (Total) */}&#10;                    &lt;div className=&quot;flex flex-col items-center justify-center&quot;&gt;&#10;                        &lt;div className=&quot;w-full h-[180px] relative&quot;&gt;&#10;                            &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                                &lt;PieChart&gt;&#10;                                    &lt;Pie&#10;                                        data={gritChartData}&#10;                                        cx=&quot;50%&quot;&#10;                                        cy=&quot;100%&quot;&#10;                                        startAngle={180}&#10;                                        endAngle={0}&#10;                                        innerRadius=&quot;75%&quot;&#10;                                        outerRadius=&quot;100%&quot;&#10;                                        paddingAngle={0}&#10;                                        dataKey=&quot;value&quot;&#10;                                    &gt;&#10;                                        {gritChartData.map((entry, index) =&gt; (&#10;                                            &lt;Cell key={`cell-${index}`} fill={GRIT_COLORS[index % GRIT_COLORS.length]}/&gt;&#10;                                        ))}&#10;                                    &lt;/Pie&gt;&#10;                                &lt;/PieChart&gt;&#10;                            &lt;/ResponsiveContainer&gt;&#10;                            &lt;div&#10;                                className=&quot;absolute bottom-0 left-0 right-0 flex flex-col items-center justify-end h-full pb-2 pointer-events-none&quot;&gt;&#10;                                &lt;span className=&quot;text-4xl font-black text-purple-600&quot;&gt;{gritScore}&lt;/span&gt;&#10;                                &lt;span className=&quot;text-xs text-gray-400 font-medium uppercase tracking-wider&quot;&gt;Tổng điểm / 5.0&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Bar Chart (Breakdown) */}&#10;                    &lt;div className=&quot;w-full h-[200px]&quot;&gt;&#10;                        &lt;h4 className=&quot;text-sm font-semibold text-gray-600 mb-2 text-center&quot;&gt;Chi tiết thành phần&lt;/h4&gt;&#10;                        &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                            &lt;BarChart&#10;                                data={gritBreakdownData}&#10;                                layout=&quot;vertical&quot;&#10;                                margin={{top: 5, right: 30, left: 40, bottom: 5}}&#10;                            &gt;&#10;                                &lt;CartesianGrid strokeDasharray=&quot;3 3&quot; horizontal={true} vertical={false}/&gt;&#10;                                &lt;XAxis type=&quot;number&quot; domain={[0, 5]} hide/&gt;&#10;                                &lt;YAxis type=&quot;category&quot; dataKey=&quot;name&quot; width={100} tick={{fontSize: 11}}/&gt;&#10;                                &lt;Tooltip cursor={{fill: 'transparent'}}/&gt;&#10;                                &lt;Bar dataKey=&quot;score&quot; radius={[0, 4, 4, 0]} barSize={20}&gt;&#10;                                    {gritBreakdownData.map((entry, index) =&gt; (&#10;                                        &lt;Cell key={`cell-${index}`} fill={entry.fill}/&gt;&#10;                                    ))}&#10;                                &lt;/Bar&gt;&#10;                            &lt;/BarChart&gt;&#10;                        &lt;/ResponsiveContainer&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;text-xs text-gray-500 bg-gray-50 p-3 rounded-lg&quot;&gt;&#10;                        &lt;p&gt;&lt;span className=&quot;font-bold text-purple-600&quot;&gt;Bền bỉ nỗ lực:&lt;/span&gt; Khả năng làm việc chăm chỉ&#10;                            trước thử thách.&lt;/p&gt;&#10;                        &lt;p className=&quot;mt-1&quot;&gt;&lt;span className=&quot;font-bold text-pink-500&quot;&gt;Duy trì hứng thú:&lt;/span&gt; Khả năng&#10;                            giữ vững mục tiêu qua thời gian dài.&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            )}&#10;&#10;            {/* --- MBTI STACKED BAR CHART --- */}&#10;            {result.type === 'MBTI' &amp;&amp; (&#10;                &lt;div className=&quot;w-full h-[320px] mt-4&quot;&gt;&#10;                    &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                        &lt;BarChart&#10;                            layout=&quot;vertical&quot;&#10;                            data={mbtiChartData}&#10;                            margin={{top: 5, right: 30, left: 20, bottom: 5}}&#10;                        &gt;&#10;                            &lt;CartesianGrid strokeDasharray=&quot;3 3&quot; horizontal={false}/&gt;&#10;                            &lt;XAxis type=&quot;number&quot; domain={[0, 100]} hide/&gt;&#10;                            &lt;YAxis dataKey=&quot;name&quot; type=&quot;category&quot; width={50} tick={{fontSize: 12, fontWeight: 500}}/&gt;&#10;                            &lt;Tooltip&#10;                                cursor={{fill: 'transparent'}}&#10;                                content={({active, payload}) =&gt; {&#10;                                    if (active &amp;&amp; payload &amp;&amp; payload.length) {&#10;                                        const data = payload[0].payload;&#10;                                        return (&#10;                                            &lt;div&#10;                                                className=&quot;bg-white p-2 border border-gray-100 shadow-lg rounded text-xs z-50&quot;&gt;&#10;                                                &lt;p className=&quot;text-blue-600 font-bold&quot;&gt;{data.labelA}: {data.A}%&lt;/p&gt;&#10;                                                &lt;p className=&quot;text-gray-500 font-bold&quot;&gt;{data.labelB}: {data.B}%&lt;/p&gt;&#10;                                            &lt;/div&gt;&#10;                                        );&#10;                                    }&#10;                                    return null;&#10;                                }}&#10;                            /&gt;&#10;                            &lt;Bar dataKey=&quot;A&quot; stackId=&quot;a&quot; fill=&quot;#3b82f6&quot; radius={[4, 0, 0, 4]}/&gt;&#10;                            &lt;Bar dataKey=&quot;B&quot; stackId=&quot;a&quot; fill=&quot;#e5e7eb&quot; radius={[0, 4, 4, 0]}/&gt;&#10;                        &lt;/BarChart&gt;&#10;                    &lt;/ResponsiveContainer&gt;&#10;                    &lt;div className=&quot;flex justify-center gap-4 mt-2 text-xs text-gray-500&quot;&gt;&#10;                        &lt;div className=&quot;flex items-center gap-1&quot;&gt;&#10;                            &lt;div className=&quot;w-3 h-3 bg-blue-500 rounded-sm&quot;&gt;&lt;/div&gt;&#10;                            Trait A&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;flex items-center gap-1&quot;&gt;&#10;                            &lt;div className=&quot;w-3 h-3 bg-gray-200 rounded-sm&quot;&gt;&lt;/div&gt;&#10;                            Trait B&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            )}&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;export default ResultCharts;" />
              <option name="updatedContent" value="import React from 'react';&#10;import {&#10;    PieChart, Pie, Cell, ResponsiveContainer, RadarChart, PolarGrid,&#10;    PolarAngleAxis, PolarRadiusAxis, Radar, Tooltip, BarChart, Bar,&#10;    XAxis, YAxis, CartesianGrid&#10;} from 'recharts';&#10;import {TestResult} from '../types';&#10;&#10;interface ResultChartProps {&#10;    result: TestResult;&#10;}&#10;&#10;const ResultChart: React.FC&lt;ResultChartProps&gt; = ({result}) =&gt; {&#10;    // --- Data Preparation Logic ---&#10;&#10;    // 1. RIASEC Data&#10;    const riasecData = result.type === 'RIASEC'&#10;        ? Object.entries(result.scores).map(([key, value]) =&gt; ({subject: key, A: value, fullMark: 25}))&#10;        : [];&#10;&#10;    // 2. MBTI Data&#10;    const mbtiChartData = result.type === 'MBTI' ? [&#10;        {name: 'Energy', A: result.scores.E, B: result.scores.I, labelA: 'Extraversion', labelB: 'Introversion'},&#10;        {name: 'Mind', A: result.scores.S, B: result.scores.N, labelA: 'Sensing', labelB: 'Intuition'},&#10;        {name: 'Nature', A: result.scores.T, B: result.scores.F, labelA: 'Thinking', labelB: 'Feeling'},&#10;        {name: 'Tactics', A: result.scores.J, B: result.scores.P, labelA: 'Judging', labelB: 'Prospecting'},&#10;    ] : [];&#10;&#10;    // 3. Grit Data&#10;    const gritScore = result.type === 'GRIT' ? result.scores.Grit : 0;&#10;    const gritChartData = [&#10;        {name: 'Score', value: gritScore},&#10;        {name: 'Remaining', value: parseFloat((5 - gritScore).toFixed(2))}&#10;    ];&#10;&#10;    // Grit Breakdown Data (Consistency vs Perseverance)&#10;    const gritBreakdownData = result.type === 'GRIT' ? [&#10;        {name: 'Bền bỉ nỗ lực', score: result.scores.Perseverance || 0, fill: '#8b5cf6'},&#10;        {name: 'Duy trì hứng thú', score: result.scores.Consistency || 0, fill: '#ec4899'},&#10;    ] : [];&#10;&#10;    const GRIT_COLORS = ['#9333ea', '#e5e7eb']; // Purple and Gray&#10;&#10;    return (&#10;        &lt;div&#10;            className=&quot;bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col items-center min-h-[400px]&quot;&gt;&#10;            &lt;h3 className=&quot;text-lg font-bold text-gray-800 mb-6 self-start w-full border-b border-gray-100 pb-2&quot;&gt;&#10;                Biểu đồ phân tích&#10;            &lt;/h3&gt;&#10;&#10;            {/* --- RIASEC RADAR CHART --- */}&#10;            {result.type === 'RIASEC' &amp;&amp; (&#10;                &lt;div className=&quot;w-full h-[300px] mt-4&quot;&gt;&#10;                    &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                        &lt;RadarChart cx=&quot;50%&quot; cy=&quot;50%&quot; outerRadius=&quot;80%&quot; data={riasecData}&gt;&#10;                            &lt;PolarGrid/&gt;&#10;                            &lt;PolarAngleAxis dataKey=&quot;subject&quot; tick={{fill: '#4b5563', fontSize: 12}}/&gt;&#10;                            &lt;PolarRadiusAxis angle={30} domain={[0, 25]} tick={false}/&gt;&#10;                            &lt;Radar name=&quot;My Interest&quot; dataKey=&quot;A&quot; stroke=&quot;#2563eb&quot; fill=&quot;#3b82f6&quot; fillOpacity={0.6}/&gt;&#10;                            &lt;Tooltip/&gt;&#10;                        &lt;/RadarChart&gt;&#10;                    &lt;/ResponsiveContainer&gt;&#10;                &lt;/div&gt;&#10;            )}&#10;&#10;            {/* --- GRIT CHARTS --- */}&#10;            {result.type === 'GRIT' &amp;&amp; (&#10;                &lt;div className=&quot;flex flex-col w-full h-full gap-8&quot;&gt;&#10;                    {/* Gauge Chart (Total) */}&#10;                    &lt;div className=&quot;flex flex-col items-center justify-center&quot;&gt;&#10;                        &lt;div className=&quot;w-full h-[180px] relative&quot;&gt;&#10;                            &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                                &lt;PieChart&gt;&#10;                                    &lt;Pie&#10;                                        data={gritChartData}&#10;                                        cx=&quot;50%&quot;&#10;                                        cy=&quot;100%&quot;&#10;                                        startAngle={180}&#10;                                        endAngle={0}&#10;                                        innerRadius=&quot;75%&quot;&#10;                                        outerRadius=&quot;100%&quot;&#10;                                        paddingAngle={0}&#10;                                        dataKey=&quot;value&quot;&#10;                                    &gt;&#10;                                        {gritChartData.map((entry, index) =&gt; (&#10;                                            &lt;Cell key={`cell-${index}`} fill={GRIT_COLORS[index % GRIT_COLORS.length]}/&gt;&#10;                                        ))}&#10;                                    &lt;/Pie&gt;&#10;                                &lt;/PieChart&gt;&#10;                            &lt;/ResponsiveContainer&gt;&#10;                            &lt;div&#10;                                className=&quot;absolute bottom-0 left-0 right-0 flex flex-col items-center justify-end h-full pb-2 pointer-events-none&quot;&gt;&#10;                                &lt;span className=&quot;text-4xl font-black text-purple-600&quot;&gt;{gritScore}&lt;/span&gt;&#10;                                &lt;span className=&quot;text-xs text-gray-400 font-medium uppercase tracking-wider&quot;&gt;Tổng điểm / 5.0&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Bar Chart (Breakdown) */}&#10;                    &lt;div className=&quot;w-full h-[200px]&quot;&gt;&#10;                        &lt;h4 className=&quot;text-sm font-semibold text-gray-600 mb-2 text-center&quot;&gt;Chi tiết thành phần&lt;/h4&gt;&#10;                        &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                            &lt;BarChart&#10;                                data={gritBreakdownData}&#10;                                layout=&quot;vertical&quot;&#10;                                margin={{top: 5, right: 30, left: 40, bottom: 5}}&#10;                            &gt;&#10;                                &lt;CartesianGrid strokeDasharray=&quot;3 3&quot; horizontal={true} vertical={false}/&gt;&#10;                                &lt;XAxis type=&quot;number&quot; domain={[0, 5]} hide/&gt;&#10;                                &lt;YAxis type=&quot;category&quot; dataKey=&quot;name&quot; width={100} tick={{fontSize: 11}}/&gt;&#10;                                &lt;Tooltip cursor={{fill: 'transparent'}}/&gt;&#10;                                &lt;Bar dataKey=&quot;score&quot; radius={[0, 4, 4, 0]} barSize={20}&gt;&#10;                                    {gritBreakdownData.map((entry, index) =&gt; (&#10;                                        &lt;Cell key={`cell-${index}`} fill={entry.fill}/&gt;&#10;                                    ))}&#10;                                &lt;/Bar&gt;&#10;                            &lt;/BarChart&gt;&#10;                        &lt;/ResponsiveContainer&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;text-xs text-gray-500 bg-gray-50 p-3 rounded-lg&quot;&gt;&#10;                        &lt;p&gt;&lt;span className=&quot;font-bold text-purple-600&quot;&gt;Bền bỉ nỗ lực:&lt;/span&gt; Khả năng làm việc chăm chỉ&#10;                            trước thử thách.&lt;/p&gt;&#10;                        &lt;p className=&quot;mt-1&quot;&gt;&lt;span className=&quot;font-bold text-pink-500&quot;&gt;Duy trì hứng thú:&lt;/span&gt; Khả năng&#10;                            giữ vững mục tiêu qua thời gian dài.&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            )}&#10;&#10;            {/* --- MBTI STACKED BAR CHART --- */}&#10;            {result.type === 'MBTI' &amp;&amp; (&#10;                &lt;div className=&quot;w-full h-[320px] mt-4&quot;&gt;&#10;                    &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                        &lt;BarChart&#10;                            layout=&quot;vertical&quot;&#10;                            data={mbtiChartData}&#10;                            margin={{top: 5, right: 30, left: 20, bottom: 5}}&#10;                        &gt;&#10;                            &lt;CartesianGrid strokeDasharray=&quot;3 3&quot; horizontal={false}/&gt;&#10;                            &lt;XAxis type=&quot;number&quot; domain={[0, 100]} hide/&gt;&#10;                            &lt;YAxis dataKey=&quot;name&quot; type=&quot;category&quot; width={50} tick={{fontSize: 12, fontWeight: 500}}/&gt;&#10;                            &lt;Tooltip&#10;                                cursor={{fill: 'transparent'}}&#10;                                content={({active, payload}) =&gt; {&#10;                                    if (active &amp;&amp; payload &amp;&amp; payload.length) {&#10;                                        const data = payload[0].payload;&#10;                                        return (&#10;                                            &lt;div&#10;                                                className=&quot;bg-white p-2 border border-gray-100 shadow-lg rounded text-xs z-50&quot;&gt;&#10;                                                &lt;p className=&quot;text-blue-600 font-bold&quot;&gt;{data.labelA}: {data.A}%&lt;/p&gt;&#10;                                                &lt;p className=&quot;text-gray-500 font-bold&quot;&gt;{data.labelB}: {data.B}%&lt;/p&gt;&#10;                                            &lt;/div&gt;&#10;                                        );&#10;                                    }&#10;                                    return null;&#10;                                }}&#10;                            /&gt;&#10;                            &lt;Bar dataKey=&quot;A&quot; stackId=&quot;a&quot; fill=&quot;#3b82f6&quot; radius={[4, 0, 0, 4]}/&gt;&#10;                            &lt;Bar dataKey=&quot;B&quot; stackId=&quot;a&quot; fill=&quot;#e5e7eb&quot; radius={[0, 4, 4, 0]}/&gt;&#10;                        &lt;/BarChart&gt;&#10;                    &lt;/ResponsiveContainer&gt;&#10;                    &lt;div className=&quot;flex justify-center gap-4 mt-2 text-xs text-gray-500&quot;&gt;&#10;                        &lt;div className=&quot;flex items-center gap-1&quot;&gt;&#10;                            &lt;div className=&quot;w-3 h-3 bg-blue-500 rounded-sm&quot;&gt;&lt;/div&gt;&#10;                            Trait A&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;flex items-center gap-1&quot;&gt;&#10;                            &lt;div className=&quot;w-3 h-3 bg-gray-200 rounded-sm&quot;&gt;&lt;/div&gt;&#10;                            Trait B&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            )}&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;export default ResultChart;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/Test/ResultView.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/Test/ResultView.tsx" />
              <option name="originalContent" value="import React from 'react';&#10;import {RotateCcw, Sparkles, MapPin, Trophy, BookOpen} from 'lucide-react';&#10;import {TestResult, UniversityRecommendation} from '../types';&#10;import ResultCharts from './ResultCharts';&#10;&#10;interface ResultViewProps {&#10;    result: TestResult | null;&#10;    recommendations: UniversityRecommendation[];&#10;    loadingRecommendations: boolean;&#10;    onBackToDashboard: () =&gt; void;&#10;}&#10;&#10;const ResultView: React.FC&lt;ResultViewProps&gt; = ({&#10;                                                   result,&#10;                                                   recommendations,&#10;                                                   loadingRecommendations,&#10;                                                   onBackToDashboard&#10;                                               }) =&gt; {&#10;    if (!result) return null;&#10;&#10;    return (&#10;        &lt;div className=&quot;space-y-8 animate-fade-in&quot;&gt;&#10;            &lt;button&#10;                onClick={onBackToDashboard}&#10;                className=&quot;text-gray-500 hover:text-gray-900 flex items-center gap-2 text-sm font-medium&quot;&#10;            &gt;&#10;                &lt;RotateCcw size={16}/&gt; Quay về trang chủ&#10;            &lt;/button&gt;&#10;&#10;            {/* Result Header */}&#10;            &lt;div&#10;                className=&quot;bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-8 text-white shadow-lg relative overflow-hidden&quot;&gt;&#10;                &lt;div className=&quot;relative z-10&quot;&gt;&#10;                    &lt;h2 className=&quot;text-3xl font-bold mb-2&quot;&gt;Kết quả: {result.rawLabel}&lt;/h2&gt;&#10;                    &lt;p className=&quot;text-blue-100 max-w-2xl text-lg leading-relaxed&quot;&gt;{result.description}&lt;/p&gt;&#10;                &lt;/div&gt;&#10;                &lt;div&#10;                    className=&quot;absolute right-0 top-0 h-full w-1/3 opacity-10 pointer-events-none bg-white skew-x-12 transform translate-x-20&quot;&gt;&lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-3 gap-8&quot;&gt;&#10;&#10;                {/* Chart Section Component */}&#10;                &lt;div className=&quot;lg:col-span-1&quot;&gt;&#10;                    &lt;ResultCharts result={result}/&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* AI Recommendations Section */}&#10;                &lt;div className=&quot;lg:col-span-2 space-y-6&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-gray-800 flex items-center gap-2&quot;&gt;&#10;                            &lt;Sparkles className=&quot;w-5 h-5 text-blue-600&quot;/&gt;&#10;                            Đề xuất trường đại học (AI)&#10;                        &lt;/h3&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {loadingRecommendations ? (&#10;                        &lt;div&#10;                            className=&quot;bg-white rounded-xl shadow-sm border border-gray-100 p-12 flex flex-col items-center justify-center text-center&quot;&gt;&#10;                            &lt;div&#10;                                className=&quot;w-10 h-10 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mb-4&quot;&gt;&lt;/div&gt;&#10;                            &lt;p className=&quot;text-gray-600 font-medium&quot;&gt;AI đang phân tích hồ sơ và tính cách của bạn...&lt;/p&gt;&#10;                            &lt;p className=&quot;text-sm text-gray-400 mt-2&quot;&gt;Đang tìm kiếm trường tại Mỹ, Anh, Canada...&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                    ) : (&#10;                        &lt;div className=&quot;grid grid-cols-1 gap-4&quot;&gt;&#10;                            {recommendations.map((rec, idx) =&gt; (&#10;                                &lt;div key={idx}&#10;                                     className=&quot;bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow&quot;&gt;&#10;                                    &lt;div className=&quot;flex justify-between items-start mb-3&quot;&gt;&#10;                                        &lt;div&gt;&#10;                                            &lt;h4 className=&quot;text-lg font-bold text-gray-900&quot;&gt;{rec.name}&lt;/h4&gt;&#10;                                            &lt;div className=&quot;flex items-center gap-2 text-gray-500 text-sm mt-1&quot;&gt;&#10;                                                &lt;MapPin size={14}/&gt; {rec.location}&#10;                                                &lt;span className=&quot;mx-1&quot;&gt;•&lt;/span&gt;&#10;                                                &lt;Trophy size={14}/&gt; Rank: {rec.ranking}&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;span&#10;                                            className=&quot;bg-green-100 text-green-700 text-xs font-bold px-2 py-1 rounded uppercase tracking-wide&quot;&gt;High Match&lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div className=&quot;mb-4 bg-blue-50 p-3 rounded-lg border border-blue-100&quot;&gt;&#10;                                        &lt;p className=&quot;text-sm text-blue-900 leading-relaxed&quot;&gt;&#10;                                            &lt;span className=&quot;font-semibold&quot;&gt;Tại sao phù hợp:&lt;/span&gt; {rec.matchReason}&#10;                                        &lt;/p&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    &lt;div&gt;&#10;                                        &lt;span&#10;                                            className=&quot;text-xs font-semibold text-gray-500 uppercase tracking-wider block mb-2&quot;&gt;Ngành đề xuất&lt;/span&gt;&#10;                                        &lt;div className=&quot;flex flex-wrap gap-2&quot;&gt;&#10;                                            {rec.suggestedMajors.map((major, mIdx) =&gt; (&#10;                                                &lt;span key={mIdx}&#10;                                                      className=&quot;inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium&quot;&gt;&#10;                          &lt;BookOpen size={12}/&gt; {major}&#10;                        &lt;/span&gt;&#10;                                            ))}&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            ))}&#10;                            {recommendations.length === 0 &amp;&amp; !loadingRecommendations &amp;&amp; (&#10;                                &lt;div&#10;                                    className=&quot;p-8 text-center text-gray-500 bg-white rounded-xl border border-dashed border-gray-300&quot;&gt;&#10;                                    Không tìm thấy đề xuất phù hợp. Vui lòng thử lại.&#10;                                &lt;/div&gt;&#10;                            )}&#10;                        &lt;/div&gt;&#10;                    )}&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;export default ResultView;" />
              <option name="updatedContent" value="import React from 'react';&#10;import {RotateCcw, Sparkles, BookOpen, Briefcase, Target, TrendingUp} from 'lucide-react';&#10;import {TestResult, MajorRecommendation} from '../types';&#10;import ResultChart from './ResultChart';&#10;&#10;interface ResultViewProps {&#10;    result: TestResult | null;&#10;    recommendations: MajorRecommendation[];&#10;    loadingRecommendations: boolean;&#10;    onBackToDashboard: () =&gt; void;&#10;}&#10;&#10;const ResultView: React.FC&lt;ResultViewProps&gt; = ({&#10;                                                   result,&#10;                                                   recommendations,&#10;                                                   loadingRecommendations,&#10;                                                   onBackToDashboard&#10;                                               }) =&gt; {&#10;    if (!result) return null;&#10;&#10;    return (&#10;        &lt;div className=&quot;space-y-8 animate-fade-in&quot;&gt;&#10;            &lt;button&#10;                onClick={onBackToDashboard}&#10;                className=&quot;text-gray-500 hover:text-gray-900 flex items-center gap-2 text-sm font-medium&quot;&#10;            &gt;&#10;                &lt;RotateCcw size={16}/&gt; Quay về trang chủ&#10;            &lt;/button&gt;&#10;&#10;            {/* Result Header */}&#10;            &lt;div&#10;                className=&quot;bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-8 text-white shadow-lg relative overflow-hidden&quot;&gt;&#10;                &lt;div className=&quot;relative z-10&quot;&gt;&#10;                    &lt;h2 className=&quot;text-3xl font-bold mb-2&quot;&gt;Kết quả: {result.rawLabel}&lt;/h2&gt;&#10;                    &lt;p className=&quot;text-blue-100 max-w-2xl text-lg leading-relaxed&quot;&gt;{result.description}&lt;/p&gt;&#10;                &lt;/div&gt;&#10;                &lt;div&#10;                    className=&quot;absolute right-0 top-0 h-full w-1/3 opacity-10 pointer-events-none bg-white skew-x-12 transform translate-x-20&quot;&gt;&lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-3 gap-8&quot;&gt;&#10;&#10;                {/* Chart Section Component */}&#10;                &lt;div className=&quot;lg:col-span-1&quot;&gt;&#10;                    &lt;ResultChart result={result}/&gt;&#10;                &lt;/div&gt;&#10;&#10;                {/* AI Recommendations Section */}&#10;                &lt;div className=&quot;lg:col-span-2 space-y-6&quot;&gt;&#10;                    &lt;div className=&quot;flex items-center justify-between&quot;&gt;&#10;                        &lt;h3 className=&quot;text-xl font-bold text-gray-800 flex items-center gap-2&quot;&gt;&#10;                            &lt;Sparkles className=&quot;w-5 h-5 text-purple-600&quot;/&gt;&#10;                            Đề xuất ngành học phù hợp (AI)&#10;                        &lt;/h3&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {loadingRecommendations ? (&#10;                        &lt;div&#10;                            className=&quot;bg-white rounded-xl shadow-sm border border-gray-100 p-12 flex flex-col items-center justify-center text-center&quot;&gt;&#10;                            &lt;div&#10;                                className=&quot;w-10 h-10 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mb-4&quot;&gt;&lt;/div&gt;&#10;                            &lt;p className=&quot;text-gray-600 font-medium&quot;&gt;AI đang phân tích tính cách của bạn...&lt;/p&gt;&#10;                            &lt;p className=&quot;text-sm text-gray-400 mt-2&quot;&gt;Đang tìm kiếm ngành học phù hợp nhất...&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                    ) : (&#10;                        &lt;div className=&quot;grid grid-cols-1 gap-4&quot;&gt;&#10;                            {recommendations.map((rec, idx) =&gt; (&#10;                                &lt;div key={idx}&#10;                                     className=&quot;bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-lg transition-all hover:border-purple-200&quot;&gt;&#10;                                    &lt;div className=&quot;flex justify-between items-start mb-4&quot;&gt;&#10;                                        &lt;div className=&quot;flex-1&quot;&gt;&#10;                                            &lt;div className=&quot;flex items-center gap-3 mb-2&quot;&gt;&#10;                                                &lt;div className=&quot;p-2 bg-gradient-to-br from-purple-500 to-blue-500 rounded-lg&quot;&gt;&#10;                                                    &lt;BookOpen className=&quot;w-5 h-5 text-white&quot; /&gt;&#10;                                                &lt;/div&gt;&#10;                                                &lt;div&gt;&#10;                                                    &lt;h4 className=&quot;text-xl font-bold text-gray-900&quot;&gt;{rec.name}&lt;/h4&gt;&#10;                                                    &lt;span className=&quot;text-sm text-gray-500&quot;&gt;{rec.category}&lt;/span&gt;&#10;                                                &lt;/div&gt;&#10;                                            &lt;/div&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;div className=&quot;flex flex-col items-end gap-2&quot;&gt;&#10;                                            &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                                                &lt;span className=&quot;text-2xl font-bold text-purple-600&quot;&gt;{rec.matchPercentage}%&lt;/span&gt;&#10;                                                &lt;TrendingUp className=&quot;w-5 h-5 text-purple-600&quot; /&gt;&#10;                                            &lt;/div&gt;&#10;                                            &lt;span className=&quot;bg-gradient-to-r from-purple-100 to-blue-100 text-purple-700 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide&quot;&gt;&#10;                                                {rec.matchPercentage &gt;= 85 ? 'Rất phù hợp' : rec.matchPercentage &gt;= 70 ? 'Phù hợp' : 'Có tiềm năng'}&#10;                                            &lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    {/* Match Reason */}&#10;                                    &lt;div className=&quot;mb-4 bg-gradient-to-r from-purple-50 to-blue-50 p-4 rounded-lg border border-purple-100&quot;&gt;&#10;                                        &lt;p className=&quot;text-sm text-gray-800 leading-relaxed&quot;&gt;&#10;                                            &lt;span className=&quot;font-semibold text-purple-700&quot;&gt;Tại sao phù hợp:&lt;/span&gt; {rec.matchReason}&#10;                                        &lt;/p&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    {/* Career Paths */}&#10;                                    &lt;div className=&quot;mb-4&quot;&gt;&#10;                                        &lt;div className=&quot;flex items-center gap-2 mb-2&quot;&gt;&#10;                                            &lt;Briefcase className=&quot;w-4 h-4 text-blue-600&quot; /&gt;&#10;                                            &lt;span className=&quot;text-xs font-semibold text-gray-600 uppercase tracking-wider&quot;&gt;Con đường sự nghiệp&lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;div className=&quot;flex flex-wrap gap-2&quot;&gt;&#10;                                            {rec.careerPaths.map((career, cIdx) =&gt; (&#10;                                                &lt;span key={cIdx}&#10;                                                      className=&quot;inline-flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-medium border border-blue-100&quot;&gt;&#10;                                                    {career}&#10;                                                &lt;/span&gt;&#10;                                            ))}&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;&#10;                                    {/* Required Skills */}&#10;                                    &lt;div&gt;&#10;                                        &lt;div className=&quot;flex items-center gap-2 mb-2&quot;&gt;&#10;                                            &lt;Target className=&quot;w-4 h-4 text-green-600&quot; /&gt;&#10;                                            &lt;span className=&quot;text-xs font-semibold text-gray-600 uppercase tracking-wider&quot;&gt;Kỹ năng cần có&lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;                                        &lt;div className=&quot;flex flex-wrap gap-2&quot;&gt;&#10;                                            {rec.requiredSkills.map((skill, sIdx) =&gt; (&#10;                                                &lt;span key={sIdx}&#10;                                                      className=&quot;inline-flex items-center gap-1 px-2.5 py-1 bg-green-50 text-green-700 rounded-md text-xs font-medium&quot;&gt;&#10;                                                    • {skill}&#10;                                                &lt;/span&gt;&#10;                                            ))}&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            ))}&#10;                            {recommendations.length === 0 &amp;&amp; !loadingRecommendations &amp;&amp; (&#10;                                &lt;div&#10;                                    className=&quot;p-8 text-center text-gray-500 bg-white rounded-xl border border-dashed border-gray-300&quot;&gt;&#10;                                    &lt;Sparkles className=&quot;w-12 h-12 text-gray-300 mx-auto mb-3&quot; /&gt;&#10;                                    &lt;p className=&quot;font-medium&quot;&gt;Không tìm thấy đề xuất phù hợp.&lt;/p&gt;&#10;                                    &lt;p className=&quot;text-sm mt-1&quot;&gt;Vui lòng thử lại hoặc làm test khác để có kết quả tốt hơn.&lt;/p&gt;&#10;                                &lt;/div&gt;&#10;                            )}&#10;                        &lt;/div&gt;&#10;                    )}&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;export default ResultView;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/Test/TestSelection.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/Test/TestSelection.tsx" />
              <option name="originalContent" value="import React from 'react';&#10;import { Sparkles } from 'lucide-react';&#10;import TestCard from './TestCard';&#10;import { StudentProfile, TestType } from '../types';&#10;import { TEST_DESCRIPTIONS } from '../constants';&#10;&#10;interface TestSelection {&#10;    onStartTest: (type: TestType) =&gt; void;&#10;}&#10;&#10;&#10;&lt;div&gt;&#10;    &lt;h2 className=&quot;text-lg font-bold text-gray-800 mb-4 flex items-center gap-2&quot;&gt;&#10;        &lt;Sparkles className=&quot;w-5 h-5 text-yellow-500&quot; /&gt;&#10;        Khám phá bản thân&#10;    &lt;/h2&gt;&#10;    &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-6&quot;&gt;&#10;        &lt;TestCard&#10;            title={TEST_DESCRIPTIONS.MBTI.title}&#10;            description={TEST_DESCRIPTIONS.MBTI.desc}&#10;            colorClass={TEST_DESCRIPTIONS.MBTI.color}&#10;            iconType=&quot;MBTI&quot;&#10;            onClick={() =&gt; onStartTest('MBTI')}&#10;        /&gt;&#10;        &lt;TestCard&#10;            title={TEST_DESCRIPTIONS.GRIT.title}&#10;            description={TEST_DESCRIPTIONS.GRIT.desc}&#10;            colorClass={TEST_DESCRIPTIONS.GRIT.color}&#10;            iconType=&quot;GRIT&quot;&#10;            onClick={() =&gt; onStartTest('GRIT')}&#10;        /&gt;&#10;        &lt;TestCard&#10;            title={TEST_DESCRIPTIONS.RIASEC.title}&#10;            description={TEST_DESCRIPTIONS.RIASEC.desc}&#10;            colorClass={TEST_DESCRIPTIONS.RIASEC.color}&#10;            iconType=&quot;RIASEC&quot;&#10;            onClick={() =&gt; onStartTest('RIASEC')}&#10;        /&gt;&#10;    &lt;/div&gt;&#10;&lt;/div&gt;&#10;&lt;/div&gt;&#10;);&#10;};" />
              <option name="updatedContent" value="import React from 'react';&#10;import { Sparkles } from 'lucide-react';&#10;import TestCard from './TestCard';&#10;import { TestType } from '../types';&#10;import { TEST_DESCRIPTIONS } from '@/constants';&#10;&#10;interface TestSelectionProps {&#10;    onStartTest: (type: TestType) =&gt; void;&#10;}&#10;&#10;const TestSelection: React.FC&lt;TestSelectionProps&gt; = ({ onStartTest }) =&gt; {&#10;    return (&#10;        &lt;div&gt;&#10;            &lt;h2 className=&quot;text-lg font-bold text-gray-800 mb-4 flex items-center gap-2&quot;&gt;&#10;                &lt;Sparkles className=&quot;w-5 h-5 text-yellow-500&quot; /&gt;&#10;                Khám phá bản thân&#10;            &lt;/h2&gt;&#10;            &lt;div className=&quot;grid grid-cols-1 md:grid-cols-3 gap-6&quot;&gt;&#10;                &lt;TestCard&#10;                    title={TEST_DESCRIPTIONS.MBTI.title}&#10;                    description={TEST_DESCRIPTIONS.MBTI.desc}&#10;                    colorClass={TEST_DESCRIPTIONS.MBTI.color}&#10;                    iconType=&quot;MBTI&quot;&#10;                    onClick={() =&gt; onStartTest('MBTI')}&#10;                /&gt;&#10;                &lt;TestCard&#10;                    title={TEST_DESCRIPTIONS.GRIT.title}&#10;                    description={TEST_DESCRIPTIONS.GRIT.desc}&#10;                    colorClass={TEST_DESCRIPTIONS.GRIT.color}&#10;                    iconType=&quot;GRIT&quot;&#10;                    onClick={() =&gt; onStartTest('GRIT')}&#10;                /&gt;&#10;                &lt;TestCard&#10;                    title={TEST_DESCRIPTIONS.RIASEC.title}&#10;                    description={TEST_DESCRIPTIONS.RIASEC.desc}&#10;                    colorClass={TEST_DESCRIPTIONS.RIASEC.color}&#10;                    iconType=&quot;RIASEC&quot;&#10;                    onClick={() =&gt; onStartTest('RIASEC')}&#10;                /&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;export default TestSelection;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/Test/TestView.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/Test/TestView.tsx" />
              <option name="originalContent" value="import React, {useState} from 'react';&#10;import {RotateCcw} from 'lucide-react';&#10;import {Question, TestType} from '../types';&#10;import {TEST_DESCRIPTIONS} from '../constants';&#10;&#10;interface TestViewProps {&#10;    testType: TestType;&#10;    questions: Question[];&#10;    onBack: () =&gt; void;&#10;    onComplete: (answers: Record&lt;number, any&gt;) =&gt; void;&#10;}&#10;&#10;const ProgressBar: React.FC&lt;{ current: number; total: number }&gt; = ({current, total}) =&gt; {&#10;    const percentage = Math.round(((current + 1) / total) * 100);&#10;    return (&#10;        &lt;div className=&quot;w-full bg-gray-200 rounded-full h-2.5 mb-6&quot;&gt;&#10;            &lt;div&#10;                className=&quot;bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-out&quot;&#10;                style={{width: `${percentage}%`}}&#10;            &gt;&lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;const TestView: React.FC&lt;TestViewProps&gt; = ({testType, questions, onBack, onComplete}) =&gt; {&#10;    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);&#10;    const [answers, setAnswers] = useState&lt;Record&lt;number, any&gt;&gt;({});&#10;&#10;    const handleAnswer = (value: any) =&gt; {&#10;        const question = questions[currentQuestionIndex];&#10;        const newAnswers = {...answers, [question.id]: value};&#10;        setAnswers(newAnswers);&#10;&#10;        if (currentQuestionIndex &lt; questions.length - 1) {&#10;            setTimeout(() =&gt; setCurrentQuestionIndex(prev =&gt; prev + 1), 250);&#10;        } else {&#10;            onComplete(newAnswers);&#10;        }&#10;    };&#10;&#10;    const question = questions[currentQuestionIndex];&#10;    if (!question) return null;&#10;&#10;    return (&#10;        &lt;div className=&quot;max-w-3xl mx-auto pt-8&quot;&gt;&#10;            &lt;button&#10;                onClick={onBack}&#10;                className=&quot;text-gray-500 hover:text-gray-900 mb-6 flex items-center gap-2 text-sm font-medium&quot;&#10;            &gt;&#10;                &lt;RotateCcw size={16}/&gt; Quay lại&#10;            &lt;/button&gt;&#10;&#10;            &lt;div className=&quot;bg-white rounded-2xl shadow-lg border border-gray-100 p-8 md:p-12&quot;&gt;&#10;                &lt;div className=&quot;flex justify-between items-center mb-4 text-sm text-gray-500 font-medium&quot;&gt;&#10;                    &lt;span&gt;{TEST_DESCRIPTIONS[testType].title}&lt;/span&gt;&#10;                    &lt;span&gt;Câu {currentQuestionIndex + 1} / {questions.length}&lt;/span&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;ProgressBar current={currentQuestionIndex} total={questions.length}/&gt;&#10;&#10;                &lt;h3 className=&quot;text-2xl font-bold text-gray-900 mb-8 leading-snug&quot;&gt;&#10;                    {question.text}&#10;                &lt;/h3&gt;&#10;&#10;                &lt;div className=&quot;space-y-4&quot;&gt;&#10;                    {testType === 'MBTI' &amp;&amp; (&#10;                        &lt;div className=&quot;grid grid-cols-1 gap-4&quot;&gt;&#10;                            &lt;button&#10;                                onClick={() =&gt; handleAnswer('A')}&#10;                                className=&quot;p-6 text-left border-2 border-gray-100 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 group&quot;&#10;                            &gt;&#10;                                &lt;span className=&quot;font-bold text-blue-600 mr-2 group-hover:underline&quot;&gt;A.&lt;/span&gt;&#10;                                {question.optionA}&#10;                            &lt;/button&gt;&#10;                            &lt;button&#10;                                onClick={() =&gt; handleAnswer('B')}&#10;                                className=&quot;p-6 text-left border-2 border-gray-100 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 group&quot;&#10;                            &gt;&#10;                                &lt;span className=&quot;font-bold text-blue-600 mr-2 group-hover:underline&quot;&gt;B.&lt;/span&gt;&#10;                                {question.optionB}&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {(testType === 'GRIT' || testType === 'RIASEC') &amp;&amp; (&#10;                        &lt;div className=&quot;space-y-6&quot;&gt;&#10;                            &lt;div className=&quot;flex justify-between text-xs md:text-sm font-medium text-gray-500 px-2&quot;&gt;&#10;                                &lt;span&gt;Không giống tôi chút nào &lt;br/&gt;(Dislike)&lt;/span&gt;&#10;                                &lt;span className=&quot;text-right&quot;&gt;Rất giống tôi &lt;br/&gt;(Enjoy)&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;flex justify-between gap-2&quot;&gt;&#10;                                {[1, 2, 3, 4, 5].map((val) =&gt; (&#10;                                    &lt;button&#10;                                        key={val}&#10;                                        onClick={() =&gt; handleAnswer(val)}&#10;                                        className=&quot;w-full aspect-square md:aspect-auto md:h-14 rounded-lg bg-gray-50 border border-gray-200 hover:bg-blue-600 hover:text-white hover:border-blue-600 transition-all font-bold text-lg text-gray-700 shadow-sm&quot;&#10;                                    &gt;&#10;                                        {val}&#10;                                    &lt;/button&gt;&#10;                                ))}&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;export default TestView;" />
              <option name="updatedContent" value="import React, {useState} from 'react';&#10;import {RotateCcw} from 'lucide-react';&#10;import {Question, TestType} from '../types';&#10;import {TEST_DESCRIPTIONS} from '@/constants';&#10;&#10;interface TestViewProps {&#10;    testType: TestType;&#10;    questions: Question[];&#10;    onBack: () =&gt; void;&#10;    onComplete: (answers: Record&lt;number, string | number&gt;) =&gt; void;&#10;}&#10;&#10;const ProgressBar: React.FC&lt;{ current: number; total: number }&gt; = ({current, total}) =&gt; {&#10;    const percentage = Math.round(((current + 1) / total) * 100);&#10;    return (&#10;        &lt;div className=&quot;w-full bg-gray-200 rounded-full h-2.5 mb-6&quot;&gt;&#10;            &lt;div&#10;                className=&quot;bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-out&quot;&#10;                style={{width: `${percentage}%`}}&#10;            &gt;&lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;const TestView: React.FC&lt;TestViewProps&gt; = ({testType, questions, onBack, onComplete}) =&gt; {&#10;    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);&#10;    const [answers, setAnswers] = useState&lt;Record&lt;number, string | number&gt;&gt;({});&#10;&#10;    const handleAnswer = (value: string | number) =&gt; {&#10;        const question = questions[currentQuestionIndex];&#10;        const newAnswers = {...answers, [question.id]: value};&#10;        setAnswers(newAnswers);&#10;&#10;        if (currentQuestionIndex &lt; questions.length - 1) {&#10;            setTimeout(() =&gt; setCurrentQuestionIndex(prev =&gt; prev + 1), 250);&#10;        } else {&#10;            onComplete(newAnswers);&#10;        }&#10;    };&#10;&#10;    const question = questions[currentQuestionIndex];&#10;    if (!question) return null;&#10;&#10;    return (&#10;        &lt;div className=&quot;max-w-3xl mx-auto pt-8&quot;&gt;&#10;            &lt;button&#10;                onClick={onBack}&#10;                className=&quot;text-gray-500 hover:text-gray-900 mb-6 flex items-center gap-2 text-sm font-medium&quot;&#10;            &gt;&#10;                &lt;RotateCcw size={16}/&gt; Quay lại&#10;            &lt;/button&gt;&#10;&#10;            &lt;div className=&quot;bg-white rounded-2xl shadow-lg border border-gray-100 p-8 md:p-12&quot;&gt;&#10;                &lt;div className=&quot;flex justify-between items-center mb-4 text-sm text-gray-500 font-medium&quot;&gt;&#10;                    &lt;span&gt;{TEST_DESCRIPTIONS[testType].title}&lt;/span&gt;&#10;                    &lt;span&gt;Câu {currentQuestionIndex + 1} / {questions.length}&lt;/span&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;ProgressBar current={currentQuestionIndex} total={questions.length}/&gt;&#10;&#10;                &lt;h3 className=&quot;text-2xl font-bold text-gray-900 mb-8 leading-snug&quot;&gt;&#10;                    {question.text}&#10;                &lt;/h3&gt;&#10;&#10;                &lt;div className=&quot;space-y-4&quot;&gt;&#10;                    {testType === 'MBTI' &amp;&amp; (&#10;                        &lt;div className=&quot;grid grid-cols-1 gap-4&quot;&gt;&#10;                            &lt;button&#10;                                onClick={() =&gt; handleAnswer('A')}&#10;                                className=&quot;p-6 text-left border-2 border-gray-100 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 group&quot;&#10;                            &gt;&#10;                                &lt;span className=&quot;font-bold text-blue-600 mr-2 group-hover:underline&quot;&gt;A.&lt;/span&gt;&#10;                                {question.optionA}&#10;                            &lt;/button&gt;&#10;                            &lt;button&#10;                                onClick={() =&gt; handleAnswer('B')}&#10;                                className=&quot;p-6 text-left border-2 border-gray-100 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 group&quot;&#10;                            &gt;&#10;                                &lt;span className=&quot;font-bold text-blue-600 mr-2 group-hover:underline&quot;&gt;B.&lt;/span&gt;&#10;                                {question.optionB}&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;&#10;                    {(testType === 'GRIT' || testType === 'RIASEC') &amp;&amp; (&#10;                        &lt;div className=&quot;space-y-6&quot;&gt;&#10;                            &lt;div className=&quot;flex justify-between text-xs md:text-sm font-medium text-gray-500 px-2&quot;&gt;&#10;                                &lt;span&gt;Không giống tôi chút nào &lt;br/&gt;(Dislike)&lt;/span&gt;&#10;                                &lt;span className=&quot;text-right&quot;&gt;Rất giống tôi &lt;br/&gt;(Enjoy)&lt;/span&gt;&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;flex justify-between gap-2&quot;&gt;&#10;                                {[1, 2, 3, 4, 5].map((val) =&gt; (&#10;                                    &lt;button&#10;                                        key={val}&#10;                                        onClick={() =&gt; handleAnswer(val)}&#10;                                        className=&quot;w-full aspect-square md:aspect-auto md:h-14 rounded-lg bg-gray-50 border border-gray-200 hover:bg-blue-600 hover:text-white hover:border-blue-600 transition-all font-bold text-lg text-gray-700 shadow-sm&quot;&#10;                                    &gt;&#10;                                        {val}&#10;                                    &lt;/button&gt;&#10;                                ))}&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    )}&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;export default TestView;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/constants.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/constants.ts" />
              <option name="updatedContent" value="// Re-export constants from root level&#10;export * from '@/constants';&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/dashboard/Profile/ProfilePage.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/dashboard/Profile/ProfilePage.tsx" />
              <option name="originalContent" value="'use client';&#10;&#10;import React, {useRef, useState} from 'react';&#10;import {useRouter} from 'next/navigation';&#10;import {&#10;    Mail, Phone, MapPin, Calendar,&#10;    Award, BookOpen, GraduationCap, Globe,&#10;    Edit3, FileText, Target, CheckCircle2, AlertCircle, UploadCloud, Trash2, File&#10;} from 'lucide-react';&#10;import {StudentProfile, DocumentType} from '../../types';&#10;import {ResponsiveContainer, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar} from 'recharts';&#10;&#10;interface ProfilePageProps {&#10;    profile: StudentProfile;&#10;    onEditClick: () =&gt; void;&#10;    onUploadDocument: (file: File, type: DocumentType) =&gt; void;&#10;    onDeleteDocument: (id: string) =&gt; void;&#10;}&#10;&#10;export const ProfilePage: React.FC&lt;ProfilePageProps&gt; = ({&#10;                                                            profile,&#10;                                                            onEditClick,&#10;                                                            onUploadDocument,&#10;                                                            onDeleteDocument&#10;                                                        }) =&gt; {&#10;    const router = useRouter();&#10;    const fileInputRef = useRef&lt;HTMLInputElement&gt;(null);&#10;    const [selectedDocType, setSelectedDocType] = useState&lt;DocumentType&gt;('transcript');&#10;&#10;    // Chart data&#10;    const chartData = [&#10;        {subject: 'Học thuật', A: (profile.gpa / profile.gpaScale) * 100, fullMark: 100},&#10;        {subject: 'Ngoại ngữ', A: 85, fullMark: 100},&#10;        {subject: 'Hoạt động', A: Math.min(profile.extracurriculars.length * 20, 100), fullMark: 100},&#10;        {subject: 'Thành tích', A: Math.min(profile.achievements.length * 25, 100), fullMark: 100},&#10;        {subject: 'Kỹ năng mềm', A: 70, fullMark: 100},&#10;    ];&#10;&#10;    // Helper checks for status&#10;    const isPersonalComplete = Boolean(profile.name &amp;&amp; profile.email &amp;&amp; profile.phone &amp;&amp; profile.address &amp;&amp; profile.dob);&#10;    const isAcademicComplete = Boolean(profile.gpa &amp;&amp; profile.englishLevel &amp;&amp; profile.targetMajor);&#10;    const isActivitiesComplete = profile.extracurriculars.length &gt; 0 &amp;&amp; profile.achievements.length &gt; 0;&#10;    const isDocumentsComplete = profile.documents.length &gt;= 2; // Arbitrary rule for example&#10;&#10;    const StatusBadge = ({isComplete}: { isComplete: boolean }) =&gt; (&#10;        &lt;div className={`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${&#10;            isComplete&#10;                ? 'bg-green-50 text-green-700 border-green-200'&#10;                : 'bg-red-100 text-red-700 border-red-300'&#10;        }`}&gt;&#10;            {isComplete ? &lt;CheckCircle2 size={12}/&gt; : &lt;AlertCircle size={12}/&gt;}&#10;            {isComplete ? 'Hoàn thành' : 'Cần bổ sung'}&#10;        &lt;/div&gt;&#10;    );&#10;&#10;    const handleFileChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {&#10;        if (e.target.files &amp;&amp; e.target.files[0]) {&#10;            onUploadDocument(e.target.files[0], selectedDocType);&#10;        }&#10;    };&#10;&#10;    const triggerUpload = (type: DocumentType) =&gt; {&#10;        setSelectedDocType(type);&#10;        if (fileInputRef.current) {&#10;            fileInputRef.current.click();&#10;        }&#10;    };&#10;&#10;    const getDocTypeName = (type: DocumentType) =&gt; {&#10;        switch (type) {&#10;            case 'transcript':&#10;                return 'Bảng điểm';&#10;            case 'certificate':&#10;                return 'Chứng chỉ';&#10;            case 'letter':&#10;                return 'Thư giới thiệu';&#10;            case 'essay':&#10;                return 'Bài luận';&#10;            case 'other':&#10;                return 'File khác';&#10;            default:&#10;                return 'Khác';&#10;        }&#10;    };&#10;&#10;    return (&#10;        &lt;div className=&quot;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8&quot;&gt;&#10;&#10;            {/* Hidden File Input */}&#10;            &lt;input&#10;                type=&quot;file&quot;&#10;                ref={fileInputRef}&#10;                className=&quot;hidden&quot;&#10;                onChange={handleFileChange}&#10;            /&gt;&#10;&#10;            {/* HEADER WITH MAIN ACTIONS */}&#10;            &lt;div className=&quot;flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8&quot;&gt;&#10;                &lt;div&gt;&#10;                    &lt;h1 className=&quot;text-3xl font-bold text-gray-900&quot;&gt;Hồ sơ học sinh&lt;/h1&gt;&#10;                    &lt;p className=&quot;text-gray-500 mt-1&quot;&gt;Quản lý toàn diện thông tin cá nhân và hồ sơ du học&lt;/p&gt;&#10;                &lt;/div&gt;&#10;                &lt;button&#10;                    onClick={onEditClick}&#10;                    className=&quot;flex items-center gap-2 bg-[#0f6093] hover:bg-[#0a4b75] text-white px-6 py-2.5 rounded-lg font-medium transition-colors shadow-md&quot;&#10;                &gt;&#10;                    &lt;Edit3 size={18}/&gt;&#10;                    Cập nhật hồ sơ&#10;                &lt;/button&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-12 gap-8&quot;&gt;&#10;&#10;                {/* ================= LEFT COLUMN: PERSONAL INFO (3 cols) ================= */}&#10;                &lt;div className=&quot;lg:col-span-4 space-y-6&quot;&gt;&#10;&#10;                    {/* 1. Personal Identity Card */}&#10;                    &lt;div className=&quot;bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden&quot;&gt;&#10;                        &lt;div className=&quot;h-28 bg-gradient-to-r from-[#0f6093] to-[#2b8cc9]&quot;&gt;&lt;/div&gt;&#10;                        &lt;div className=&quot;px-6 pb-6 relative&quot;&gt;&#10;                            &lt;div className=&quot;flex flex-col items-center -mt-12 mb-4&quot;&gt;&#10;                                &lt;div&#10;                                    className=&quot;w-24 h-24 rounded-full border-4 border-white overflow-hidden shadow-lg bg-white&quot;&gt;&#10;                                    &lt;img src={profile.avatarUrl} alt={profile.name}&#10;                                         className=&quot;w-full h-full object-cover&quot;/&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;h2 className=&quot;mt-3 text-xl font-bold text-gray-900&quot;&gt;{profile.name}&lt;/h2&gt;&#10;                                &lt;p className=&quot;text-sm text-gray-500&quot;&gt;Mã HS: {profile.id}&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;border-t border-gray-100 pt-4&quot;&gt;&#10;                                &lt;div className=&quot;flex justify-between items-center mb-4&quot;&gt;&#10;                                    &lt;h3 className=&quot;text-sm font-bold text-gray-700 uppercase tracking-wide&quot;&gt;Thông tin cá&#10;                                        nhân&lt;/h3&gt;&#10;                                    &lt;StatusBadge isComplete={isPersonalComplete}/&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;div className=&quot;space-y-3 text-sm text-gray-600&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg transition-colors&quot;&gt;&#10;                                        &lt;div&#10;                                            className=&quot;w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-[#0f6093] flex-shrink-0&quot;&gt;&#10;                                            &lt;Mail size={16}/&gt;&lt;/div&gt;&#10;                                        &lt;span className=&quot;truncate font-medium&quot;&gt;{profile.email}&lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&#10;                                        className=&quot;flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg transition-colors&quot;&gt;&#10;                                        &lt;div&#10;                                            className=&quot;w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-[#0f6093] flex-shrink-0&quot;&gt;&#10;                                            &lt;Phone size={16}/&gt;&lt;/div&gt;&#10;                                        &lt;span className=&quot;font-medium&quot;&gt;{profile.phone}&lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&#10;                                        className=&quot;flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg transition-colors&quot;&gt;&#10;                                        &lt;div&#10;                                            className=&quot;w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-[#0f6093] flex-shrink-0&quot;&gt;&#10;                                            &lt;Calendar size={16}/&gt;&lt;/div&gt;&#10;                                        &lt;span className=&quot;font-medium&quot;&gt;{profile.dob}&lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&#10;                                        className=&quot;flex items-start gap-3 p-2 hover:bg-gray-50 rounded-lg transition-colors&quot;&gt;&#10;                                        &lt;div&#10;                                            className=&quot;w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-[#0f6093] flex-shrink-0&quot;&gt;&#10;                                            &lt;MapPin size={16}/&gt;&lt;/div&gt;&#10;                                        &lt;span className=&quot;font-medium&quot;&gt;{profile.address}&lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Radar Chart */}&#10;                    &lt;div className=&quot;bg-white rounded-2xl shadow-sm border border-gray-100 p-5&quot;&gt;&#10;                        &lt;div className=&quot;flex justify-between items-center mb-3&quot;&gt;&#10;                            &lt;h3 className=&quot;text-base font-bold text-gray-900&quot;&gt;Đánh giá tổng quan&lt;/h3&gt;&#10;                            &lt;button&#10;                                onClick={() =&gt; router.push('/dashboard/swotCard')}&#10;                                className=&quot;inline-flex items-center gap-2 px-3 py-1.5 bg-[#0f6093] text-white rounded-md text-sm hover:bg-[#0a4b75] transition-colors&quot;&#10;                            &gt;&#10;                                Xem chi tiết&#10;                            &lt;/button&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;h-64 w-full&quot;&gt;&#10;                            &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                                &lt;RadarChart cx=&quot;50%&quot; cy=&quot;50%&quot; outerRadius=&quot;75%&quot; data={chartData}&gt;&#10;                                    &lt;PolarGrid stroke=&quot;#e5e7eb&quot;/&gt;&#10;                                    &lt;PolarAngleAxis dataKey=&quot;subject&quot; tick={{fill: '#6b7280', fontSize: 11}}/&gt;&#10;                                    &lt;PolarRadiusAxis angle={30} domain={[0, 100]} tick={false} axisLine={false}/&gt;&#10;                                    &lt;Radar&#10;                                        name={profile.name}&#10;                                        dataKey=&quot;A&quot;&#10;                                        stroke=&quot;#0f6093&quot;&#10;                                        strokeWidth={2}&#10;                                        fill=&quot;#0f6093&quot;&#10;                                        fillOpacity={0.3}&#10;                                    /&gt;&#10;                                &lt;/RadarChart&gt;&#10;                            &lt;/ResponsiveContainer&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                &lt;/div&gt;&#10;&#10;                {/* ================= RIGHT COLUMN: DETAILED SECTIONS (9 cols) ================= */}&#10;                &lt;div className=&quot;lg:col-span-8 space-y-8&quot;&gt;&#10;&#10;                    {/* 2. ACADEMIC INFO SECTION */}&#10;                    &lt;section className=&quot;bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden&quot;&gt;&#10;                        &lt;div&#10;                            className=&quot;px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50&quot;&gt;&#10;                            &lt;h3 className=&quot;text-lg font-bold text-gray-900 flex items-center gap-2&quot;&gt;&#10;                                &lt;BookOpen className=&quot;text-[#0f6093]&quot; size={20}/&gt;&#10;                                THÔNG TIN HỌC THUẬT&#10;                            &lt;/h3&gt;&#10;                            &lt;StatusBadge isComplete={isAcademicComplete}/&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;p-6 grid grid-cols-1 md:grid-cols-3 gap-6&quot;&gt;&#10;                            &lt;div className=&quot;bg-blue-50 p-4 rounded-xl border border-blue-100&quot;&gt;&#10;                                &lt;p className=&quot;text-sm text-blue-600 font-medium mb-1&quot;&gt;GPA Hiện tại&lt;/p&gt;&#10;                                &lt;div className=&quot;flex items-baseline gap-1&quot;&gt;&#10;                                    &lt;span className=&quot;text-3xl font-bold text-blue-900&quot;&gt;{profile.gpa}&lt;/span&gt;&#10;                                    &lt;span className=&quot;text-sm text-blue-500&quot;&gt;/ {profile.gpaScale}&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;bg-purple-50 p-4 rounded-xl border border-purple-100&quot;&gt;&#10;                                &lt;p className=&quot;text-sm text-purple-600 font-medium mb-1&quot;&gt;Trình độ ngoại ngữ&lt;/p&gt;&#10;                                &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                                    &lt;Globe size={20} className=&quot;text-purple-500&quot;/&gt;&#10;                                    &lt;span className=&quot;text-xl font-bold text-purple-900&quot;&gt;{profile.englishLevel}&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;bg-orange-50 p-4 rounded-xl border border-orange-100&quot;&gt;&#10;                                &lt;p className=&quot;text-sm text-orange-600 font-medium mb-1&quot;&gt;Mục tiêu du học&lt;/p&gt;&#10;                                &lt;div className=&quot;flex flex-col&quot;&gt;&#10;                                    &lt;span className=&quot;font-bold text-orange-900&quot;&gt;{profile.targetMajor}&lt;/span&gt;&#10;                                    &lt;span className=&quot;text-xs text-orange-600&quot;&gt;tại {profile.targetCountry}&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/section&gt;&#10;&#10;                    {/* 3. ACTIVITIES &amp; ACHIEVEMENTS SECTION */}&#10;                    &lt;section className=&quot;bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden&quot;&gt;&#10;                        &lt;div&#10;                            className=&quot;px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50&quot;&gt;&#10;                            &lt;h3 className=&quot;text-lg font-bold text-gray-900 flex items-center gap-2&quot;&gt;&#10;                                &lt;Award className=&quot;text-yellow-500&quot; size={20}/&gt;&#10;                                HOẠT ĐỘNG &amp; THÀNH TÍCH&#10;                            &lt;/h3&gt;&#10;                            &lt;StatusBadge isComplete={isActivitiesComplete}/&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;p-6 grid grid-cols-1 md:grid-cols-2 gap-8&quot;&gt;&#10;                            {/* Activities List */}&#10;                            &lt;div&gt;&#10;                                &lt;h4 className=&quot;font-semibold text-gray-800 mb-4 flex items-center gap-2&quot;&gt;&#10;                                    &lt;span className=&quot;w-2 h-2 rounded-full bg-blue-500&quot;&gt;&lt;/span&gt;&#10;                                    Hoạt động ngoại khóa&#10;                                &lt;/h4&gt;&#10;                                &lt;div className=&quot;space-y-4&quot;&gt;&#10;                                    {profile.extracurriculars.length &gt; 0 ? profile.extracurriculars.map(act =&gt; (&#10;                                        &lt;div key={act.id}&#10;                                             className=&quot;pl-4 border-l-2 border-gray-200 hover:border-blue-400 transition-colors&quot;&gt;&#10;                                            &lt;h5 className=&quot;font-bold text-gray-800 text-sm&quot;&gt;{act.title}&lt;/h5&gt;&#10;                                            &lt;div className=&quot;flex justify-between items-center mt-1&quot;&gt;&#10;                                                &lt;span&#10;                                                    className=&quot;text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-0.5 rounded&quot;&gt;{act.role}&lt;/span&gt;&#10;                                                &lt;span className=&quot;text-xs text-gray-400&quot;&gt;{act.year}&lt;/span&gt;&#10;                                            &lt;/div&gt;&#10;                                            &lt;p className=&quot;text-xs text-gray-500 mt-1 line-clamp-2&quot;&gt;{act.description}&lt;/p&gt;&#10;                                        &lt;/div&gt;&#10;                                    )) : &lt;p className=&quot;text-gray-400 italic text-sm&quot;&gt;Chưa cập nhật hoạt động&lt;/p&gt;}&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            {/* Achievements List */}&#10;                            &lt;div&gt;&#10;                                &lt;h4 className=&quot;font-semibold text-gray-800 mb-4 flex items-center gap-2&quot;&gt;&#10;                                    &lt;span className=&quot;w-2 h-2 rounded-full bg-yellow-500&quot;&gt;&lt;/span&gt;&#10;                                    Giải thưởng &amp; Chứng nhận&#10;                                &lt;/h4&gt;&#10;                                &lt;div className=&quot;space-y-2&quot;&gt;&#10;                                    {profile.achievements.length &gt; 0 ? profile.achievements.map((ach, idx) =&gt; (&#10;                                        &lt;div key={idx}&#10;                                             className=&quot;flex items-start gap-2 bg-yellow-50 p-2.5 rounded-lg border border-yellow-100&quot;&gt;&#10;                                            &lt;GraduationCap className=&quot;text-yellow-600 mt-0.5 flex-shrink-0&quot; size={16}/&gt;&#10;                                            &lt;span className=&quot;text-sm text-gray-800&quot;&gt;{ach}&lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;                                    )) : &lt;p className=&quot;text-gray-400 italic text-sm&quot;&gt;Chưa cập nhật thành tích&lt;/p&gt;}&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/section&gt;&#10;&#10;                    {/* 4. DOCUMENTS SECTION (NEW FEATURE) */}&#10;                    &lt;section className=&quot;bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden&quot;&gt;&#10;                        &lt;div&#10;                            className=&quot;px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50&quot;&gt;&#10;                            &lt;h3 className=&quot;text-lg font-bold text-gray-900 flex items-center gap-2&quot;&gt;&#10;                                &lt;FileText className=&quot;text-gray-600&quot; size={20}/&gt;&#10;                                TÀI LIỆU ĐÍNH KÈM&#10;                            &lt;/h3&gt;&#10;                            &lt;StatusBadge isComplete={isDocumentsComplete}/&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;p-6&quot;&gt;&#10;                            {/* Upload Area */}&#10;                            &lt;div className=&quot;grid grid-cols-2 sm:grid-cols-5 gap-4 mb-6&quot;&gt;&#10;                                &lt;button onClick={() =&gt; triggerUpload('transcript')}&#10;                                        className=&quot;flex flex-col items-center justify-center p-4 border-2 border-dashed border-blue-200 rounded-xl bg-blue-50 hover:bg-blue-100 transition-colors group&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-full bg-white flex items-center justify-center mb-2 shadow-sm text-blue-500 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                        &lt;UploadCloud size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-xs font-semibold text-blue-700&quot;&gt;Tải lên Bảng điểm&lt;/span&gt;&#10;                                &lt;/button&gt;&#10;                                &lt;button onClick={() =&gt; triggerUpload('certificate')}&#10;                                        className=&quot;flex flex-col items-center justify-center p-4 border-2 border-dashed border-purple-200 rounded-xl bg-purple-50 hover:bg-purple-100 transition-colors group&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-full bg-white flex items-center justify-center mb-2 shadow-sm text-purple-500 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                        &lt;UploadCloud size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-xs font-semibold text-purple-700&quot;&gt;Tải lên Chứng chỉ&lt;/span&gt;&#10;                                &lt;/button&gt;&#10;                                &lt;button onClick={() =&gt; triggerUpload('letter')}&#10;                                        className=&quot;flex flex-col items-center justify-center p-4 border-2 border-dashed border-green-200 rounded-xl bg-green-50 hover:bg-green-100 transition-colors group&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-full bg-white flex items-center justify-center mb-2 shadow-sm text-green-500 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                        &lt;UploadCloud size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-xs font-semibold text-green-700&quot;&gt;Thư giới thiệu&lt;/span&gt;&#10;                                &lt;/button&gt;&#10;                                &lt;button onClick={() =&gt; triggerUpload('essay')}&#10;                                        className=&quot;flex flex-col items-center justify-center p-4 border-2 border-dashed border-orange-200 rounded-xl bg-orange-50 hover:bg-orange-100 transition-colors group&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-full bg-white flex items-center justify-center mb-2 shadow-sm text-orange-500 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                        &lt;UploadCloud size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-xs font-semibold text-orange-700&quot;&gt;Bài luận mẫu&lt;/span&gt;&#10;                                &lt;/button&gt;&#10;                                &lt;button onClick={() =&gt; triggerUpload('other')}&#10;                                        className=&quot;flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors group&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-full bg-white flex items-center justify-center mb-2 shadow-sm text-gray-600 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                        &lt;UploadCloud size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-xs font-semibold text-gray-700&quot;&gt;File khác&lt;/span&gt;&#10;                                &lt;/button&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            {/* Document List */}&#10;                            &lt;div className=&quot;border rounded-xl overflow-hidden&quot;&gt;&#10;                                &lt;table className=&quot;min-w-full divide-y divide-gray-200&quot;&gt;&#10;                                    &lt;thead className=&quot;bg-gray-50&quot;&gt;&#10;                                    &lt;tr&gt;&#10;                                        &lt;th scope=&quot;col&quot;&#10;                                            className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;Tên&#10;                                            tài liệu&#10;                                        &lt;/th&gt;&#10;                                        &lt;th scope=&quot;col&quot;&#10;                                            className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;Loại&#10;                                        &lt;/th&gt;&#10;                                        &lt;th scope=&quot;col&quot;&#10;                                            className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;Ngày&#10;                                            tải lên&#10;                                        &lt;/th&gt;&#10;                                        &lt;th scope=&quot;col&quot;&#10;                                            className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;Kích&#10;                                            thước&#10;                                        &lt;/th&gt;&#10;                                        &lt;th scope=&quot;col&quot; className=&quot;relative px-6 py-3&quot;&gt;&lt;span className=&quot;sr-only&quot;&gt;Hành động&lt;/span&gt;&#10;                                        &lt;/th&gt;&#10;                                    &lt;/tr&gt;&#10;                                    &lt;/thead&gt;&#10;                                    &lt;tbody className=&quot;bg-white divide-y divide-gray-200&quot;&gt;&#10;                                    {profile.documents.length &gt; 0 ? profile.documents.map((doc) =&gt; (&#10;                                        &lt;tr key={doc.id} className=&quot;hover:bg-gray-50 transition-colors&quot;&gt;&#10;                                            &lt;td className=&quot;px-6 py-4 whitespace-nowrap&quot;&gt;&#10;                                                &lt;div className=&quot;flex items-center&quot;&gt;&#10;                                                    &lt;div&#10;                                                        className=&quot;flex-shrink-0 h-8 w-8 rounded bg-gray-100 flex items-center justify-center text-gray-500&quot;&gt;&#10;                                                        &lt;File size={16}/&gt;&#10;                                                    &lt;/div&gt;&#10;                                                    &lt;div className=&quot;ml-4&quot;&gt;&#10;                                                        &lt;div&#10;                                                            className=&quot;text-sm font-medium text-gray-900&quot;&gt;{doc.name}&lt;/div&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                            &lt;/td&gt;&#10;                                            &lt;td className=&quot;px-6 py-4 whitespace-nowrap&quot;&gt;&#10;                          &lt;span&#10;                              className=&quot;px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800&quot;&gt;&#10;                            {getDocTypeName(doc.type)}&#10;                          &lt;/span&gt;&#10;                                            &lt;/td&gt;&#10;                                            &lt;td className=&quot;px-6 py-4 whitespace-nowrap text-sm text-gray-500&quot;&gt;{doc.uploadDate}&lt;/td&gt;&#10;                                            &lt;td className=&quot;px-6 py-4 whitespace-nowrap text-sm text-gray-500&quot;&gt;{doc.size}&lt;/td&gt;&#10;                                            &lt;td className=&quot;px-6 py-4 whitespace-nowrap text-right text-sm font-medium&quot;&gt;&#10;                                                &lt;button&#10;                                                    onClick={() =&gt; onDeleteDocument(doc.id)}&#10;                                                    className=&quot;text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full transition-colors&quot;&#10;                                                &gt;&#10;                                                    &lt;Trash2 size={16}/&gt;&#10;                                                &lt;/button&gt;&#10;                                            &lt;/td&gt;&#10;                                        &lt;/tr&gt;&#10;                                    )) : (&#10;                                        &lt;tr&gt;&#10;                                            &lt;td colSpan={5} className=&quot;px-6 py-10 text-center text-sm text-gray-400&quot;&gt;&#10;                                                Chưa có tài liệu nào được tải lên. Hãy chọn các mục ở trên để thêm tài&#10;                                                liệu.&#10;                                            &lt;/td&gt;&#10;                                        &lt;/tr&gt;&#10;                                    )}&#10;                                    &lt;/tbody&gt;&#10;                                &lt;/table&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/section&gt;&#10;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};" />
              <option name="updatedContent" value="'use client';&#10;&#10;import React, {useRef, useState} from 'react';&#10;import {useRouter} from 'next/navigation';&#10;import {&#10;    Mail, Phone, MapPin, Calendar,&#10;    Award, BookOpen, GraduationCap, Globe,&#10;    Edit3, FileText, Target, CheckCircle2, AlertCircle, UploadCloud, Trash2, File&#10;} from 'lucide-react';&#10;import {StudentProfile, DocumentType} from '../../types';&#10;import {ResponsiveContainer, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar} from 'recharts';&#10;&#10;interface ProfilePageProps {&#10;    profile: StudentProfile;&#10;    onEditClick: () =&gt; void;&#10;    onUploadDocument: (file: File, type: DocumentType) =&gt; void;&#10;    onDeleteDocument: (id: string) =&gt; void;&#10;}&#10;&#10;// StatusBadge component - moved outside to avoid React hooks rules violation&#10;const StatusBadge: React.FC&lt;{ isComplete: boolean }&gt; = ({isComplete}) =&gt; (&#10;    &lt;div className={`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${&#10;        isComplete&#10;            ? 'bg-green-50 text-green-700 border-green-200'&#10;            : 'bg-red-100 text-red-700 border-red-300'&#10;    }`}&gt;&#10;        {isComplete ? &lt;CheckCircle2 size={12}/&gt; : &lt;AlertCircle size={12}/&gt;}&#10;        {isComplete ? 'Hoàn tất' : 'Cần bổ sung'}&#10;    &lt;/div&gt;&#10;);&#10;&#10;export const ProfilePage: React.FC&lt;ProfilePageProps&gt; = ({&#10;                                                            profile,&#10;                                                            onEditClick,&#10;                                                            onUploadDocument,&#10;                                                            onDeleteDocument&#10;                                                        }) =&gt; {&#10;    const router = useRouter();&#10;    const fileInputRef = useRef&lt;HTMLInputElement&gt;(null);&#10;    const [selectedDocType, setSelectedDocType] = useState&lt;DocumentType&gt;('transcript');&#10;&#10;    // Chart data&#10;    const chartData = [&#10;        {subject: 'Học thuật', A: (profile.gpa / profile.gpaScale) * 100, fullMark: 100},&#10;        {subject: 'Ngoại ngữ', A: 85, fullMark: 100},&#10;        {subject: 'Hoạt động', A: Math.min(profile.extracurriculars.length * 20, 100), fullMark: 100},&#10;        {subject: 'Thành tích', A: Math.min(profile.achievements.length * 25, 100), fullMark: 100},&#10;        {subject: 'Kỹ năng mềm', A: 70, fullMark: 100},&#10;    ];&#10;&#10;    // Helper checks for status&#10;    const isPersonalComplete = Boolean(profile.name &amp;&amp; profile.email &amp;&amp; profile.phone &amp;&amp; profile.address &amp;&amp; profile.dob);&#10;    const isAcademicComplete = Boolean(profile.gpa &amp;&amp; profile.englishLevel &amp;&amp; profile.targetMajor);&#10;    const isActivitiesComplete = profile.extracurriculars.length &gt; 0 &amp;&amp; profile.achievements.length &gt; 0;&#10;    const isDocumentsComplete = profile.documents.length &gt;= 2; // Arbitrary rule for example&#10;&#10;    const handleFileChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {&#10;        if (e.target.files &amp;&amp; e.target.files[0]) {&#10;            onUploadDocument(e.target.files[0], selectedDocType);&#10;        }&#10;    };&#10;&#10;    const triggerUpload = (type: DocumentType) =&gt; {&#10;        setSelectedDocType(type);&#10;        if (fileInputRef.current) {&#10;            fileInputRef.current.click();&#10;        }&#10;    };&#10;&#10;    const getDocTypeName = (type: DocumentType) =&gt; {&#10;        switch (type) {&#10;            case 'transcript':&#10;                return 'Bảng điểm';&#10;            case 'certificate':&#10;                return 'Chứng chỉ';&#10;            case 'letter':&#10;                return 'Thư giới thiệu';&#10;            case 'essay':&#10;                return 'Bài luận';&#10;            case 'other':&#10;                return 'File khác';&#10;            default:&#10;                return 'Khác';&#10;        }&#10;    };&#10;&#10;    return (&#10;        &lt;div className=&quot;max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8&quot;&gt;&#10;&#10;            {/* Hidden File Input */}&#10;            &lt;input&#10;                type=&quot;file&quot;&#10;                ref={fileInputRef}&#10;                className=&quot;hidden&quot;&#10;                onChange={handleFileChange}&#10;            /&gt;&#10;&#10;            {/* HEADER WITH MAIN ACTIONS */}&#10;            &lt;div className=&quot;flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8&quot;&gt;&#10;                &lt;div&gt;&#10;                    &lt;h1 className=&quot;text-3xl font-bold text-gray-900&quot;&gt;Hồ sơ học sinh&lt;/h1&gt;&#10;                    &lt;p className=&quot;text-gray-500 mt-1&quot;&gt;Quản lý toàn diện thông tin cá nhân và hồ sơ du học&lt;/p&gt;&#10;                &lt;/div&gt;&#10;                &lt;button&#10;                    onClick={onEditClick}&#10;                    className=&quot;flex items-center gap-2 bg-[#0f6093] hover:bg-[#0a4b75] text-white px-6 py-2.5 rounded-lg font-medium transition-colors shadow-md&quot;&#10;                &gt;&#10;                    &lt;Edit3 size={18}/&gt;&#10;                    Cập nhật hồ sơ&#10;                &lt;/button&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-12 gap-8&quot;&gt;&#10;&#10;                {/* ================= LEFT COLUMN: PERSONAL INFO (3 cols) ================= */}&#10;                &lt;div className=&quot;lg:col-span-4 space-y-6&quot;&gt;&#10;&#10;                    {/* 1. Personal Identity Card */}&#10;                    &lt;div className=&quot;bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden&quot;&gt;&#10;                        &lt;div className=&quot;h-28 bg-gradient-to-r from-[#0f6093] to-[#2b8cc9]&quot;&gt;&lt;/div&gt;&#10;                        &lt;div className=&quot;px-6 pb-6 relative&quot;&gt;&#10;                            &lt;div className=&quot;flex flex-col items-center -mt-12 mb-4&quot;&gt;&#10;                                &lt;div&#10;                                    className=&quot;w-24 h-24 rounded-full border-4 border-white overflow-hidden shadow-lg bg-white&quot;&gt;&#10;                                    &lt;img src={profile.avatarUrl} alt={profile.name}&#10;                                         className=&quot;w-full h-full object-cover&quot;/&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;h2 className=&quot;mt-3 text-xl font-bold text-gray-900&quot;&gt;{profile.name}&lt;/h2&gt;&#10;                                &lt;p className=&quot;text-sm text-gray-500&quot;&gt;Mã HS: {profile.id}&lt;/p&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;border-t border-gray-100 pt-4&quot;&gt;&#10;                                &lt;div className=&quot;flex justify-between items-center mb-4&quot;&gt;&#10;                                    &lt;h3 className=&quot;text-sm font-bold text-gray-700 uppercase tracking-wide&quot;&gt;Thông tin cá&#10;                                        nhân&lt;/h3&gt;&#10;                                    &lt;StatusBadge isComplete={isPersonalComplete}/&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                &lt;div className=&quot;space-y-3 text-sm text-gray-600&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg transition-colors&quot;&gt;&#10;                                        &lt;div&#10;                                            className=&quot;w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-[#0f6093] flex-shrink-0&quot;&gt;&#10;                                            &lt;Mail size={16}/&gt;&lt;/div&gt;&#10;                                        &lt;span className=&quot;truncate font-medium&quot;&gt;{profile.email}&lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&#10;                                        className=&quot;flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg transition-colors&quot;&gt;&#10;                                        &lt;div&#10;                                            className=&quot;w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-[#0f6093] flex-shrink-0&quot;&gt;&#10;                                            &lt;Phone size={16}/&gt;&lt;/div&gt;&#10;                                        &lt;span className=&quot;font-medium&quot;&gt;{profile.phone}&lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&#10;                                        className=&quot;flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg transition-colors&quot;&gt;&#10;                                        &lt;div&#10;                                            className=&quot;w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-[#0f6093] flex-shrink-0&quot;&gt;&#10;                                            &lt;Calendar size={16}/&gt;&lt;/div&gt;&#10;                                        &lt;span className=&quot;font-medium&quot;&gt;{profile.dob}&lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&#10;                                        className=&quot;flex items-start gap-3 p-2 hover:bg-gray-50 rounded-lg transition-colors&quot;&gt;&#10;                                        &lt;div&#10;                                            className=&quot;w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center text-[#0f6093] flex-shrink-0&quot;&gt;&#10;                                            &lt;MapPin size={16}/&gt;&lt;/div&gt;&#10;                                        &lt;span className=&quot;font-medium&quot;&gt;{profile.address}&lt;/span&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    {/* Radar Chart */}&#10;                    &lt;div className=&quot;bg-white rounded-2xl shadow-sm border border-gray-100 p-5&quot;&gt;&#10;                        &lt;div className=&quot;flex justify-between items-center mb-3&quot;&gt;&#10;                            &lt;h3 className=&quot;text-base font-bold text-gray-900&quot;&gt;Đánh giá tổng quan&lt;/h3&gt;&#10;                            &lt;div className=&quot;flex gap-2&quot;&gt;&#10;                                &lt;button&#10;                                    onClick={() =&gt; router.push('/dashboard/tests')}&#10;                                    className=&quot;inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-md text-sm hover:from-purple-700 hover:to-blue-700 transition-colors shadow-md&quot;&#10;                                &gt;&#10;                                    &lt;Target size={16} /&gt;&#10;                                    Khám phá bản thân&#10;                                &lt;/button&gt;&#10;                                &lt;button&#10;                                    onClick={() =&gt; router.push('/dashboard/swotCard')}&#10;                                    className=&quot;inline-flex items-center gap-2 px-3 py-1.5 bg-[#0f6093] text-white rounded-md text-sm hover:bg-[#0a4b75] transition-colors&quot;&#10;                                &gt;&#10;                                    Xem chi tiết&#10;                                &lt;/button&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;h-64 w-full&quot;&gt;&#10;                            &lt;ResponsiveContainer width=&quot;100%&quot; height=&quot;100%&quot;&gt;&#10;                                &lt;RadarChart cx=&quot;50%&quot; cy=&quot;50%&quot; outerRadius=&quot;75%&quot; data={chartData}&gt;&#10;                                    &lt;PolarGrid stroke=&quot;#e5e7eb&quot;/&gt;&#10;                                    &lt;PolarAngleAxis dataKey=&quot;subject&quot; tick={{fill: '#6b7280', fontSize: 11}}/&gt;&#10;                                    &lt;PolarRadiusAxis angle={30} domain={[0, 100]} tick={false} axisLine={false}/&gt;&#10;                                    &lt;Radar&#10;                                        name={profile.name}&#10;                                        dataKey=&quot;A&quot;&#10;                                        stroke=&quot;#0f6093&quot;&#10;                                        strokeWidth={2}&#10;                                        fill=&quot;#0f6093&quot;&#10;                                        fillOpacity={0.3}&#10;                                    /&gt;&#10;                                &lt;/RadarChart&gt;&#10;                            &lt;/ResponsiveContainer&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                &lt;/div&gt;&#10;&#10;                {/* ================= RIGHT COLUMN: DETAILED SECTIONS (9 cols) ================= */}&#10;                &lt;div className=&quot;lg:col-span-8 space-y-8&quot;&gt;&#10;&#10;                    {/* 2. ACADEMIC INFO SECTION */}&#10;                    &lt;section className=&quot;bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden&quot;&gt;&#10;                        &lt;div&#10;                            className=&quot;px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50&quot;&gt;&#10;                            &lt;h3 className=&quot;text-lg font-bold text-gray-900 flex items-center gap-2&quot;&gt;&#10;                                &lt;BookOpen className=&quot;text-[#0f6093]&quot; size={20}/&gt;&#10;                                THÔNG TIN HỌC THUẬT&#10;                            &lt;/h3&gt;&#10;                            &lt;StatusBadge isComplete={isAcademicComplete}/&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;p-6 grid grid-cols-1 md:grid-cols-3 gap-6&quot;&gt;&#10;                            &lt;div className=&quot;bg-blue-50 p-4 rounded-xl border border-blue-100&quot;&gt;&#10;                                &lt;p className=&quot;text-sm text-blue-600 font-medium mb-1&quot;&gt;GPA Hiện tại&lt;/p&gt;&#10;                                &lt;div className=&quot;flex items-baseline gap-1&quot;&gt;&#10;                                    &lt;span className=&quot;text-3xl font-bold text-blue-900&quot;&gt;{profile.gpa}&lt;/span&gt;&#10;                                    &lt;span className=&quot;text-sm text-blue-500&quot;&gt;/ {profile.gpaScale}&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;bg-purple-50 p-4 rounded-xl border border-purple-100&quot;&gt;&#10;                                &lt;p className=&quot;text-sm text-purple-600 font-medium mb-1&quot;&gt;Trình độ ngoại ngữ&lt;/p&gt;&#10;                                &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                                    &lt;Globe size={20} className=&quot;text-purple-500&quot;/&gt;&#10;                                    &lt;span className=&quot;text-xl font-bold text-purple-900&quot;&gt;{profile.englishLevel}&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            &lt;div className=&quot;bg-orange-50 p-4 rounded-xl border border-orange-100&quot;&gt;&#10;                                &lt;p className=&quot;text-sm text-orange-600 font-medium mb-1&quot;&gt;Mục tiêu du học&lt;/p&gt;&#10;                                &lt;div className=&quot;flex flex-col&quot;&gt;&#10;                                    &lt;span className=&quot;font-bold text-orange-900&quot;&gt;{profile.targetMajor}&lt;/span&gt;&#10;                                    &lt;span className=&quot;text-xs text-orange-600&quot;&gt;tại {profile.targetCountry}&lt;/span&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/section&gt;&#10;&#10;                    {/* 3. ACTIVITIES &amp; ACHIEVEMENTS SECTION */}&#10;                    &lt;section className=&quot;bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden&quot;&gt;&#10;                        &lt;div&#10;                            className=&quot;px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50&quot;&gt;&#10;                            &lt;h3 className=&quot;text-lg font-bold text-gray-900 flex items-center gap-2&quot;&gt;&#10;                                &lt;Award className=&quot;text-yellow-500&quot; size={20}/&gt;&#10;                                HOẠT ĐỘNG &amp; THÀNH TÍCH&#10;                            &lt;/h3&gt;&#10;                            &lt;StatusBadge isComplete={isActivitiesComplete}/&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;p-6 grid grid-cols-1 md:grid-cols-2 gap-8&quot;&gt;&#10;                            {/* Activities List */}&#10;                            &lt;div&gt;&#10;                                &lt;h4 className=&quot;font-semibold text-gray-800 mb-4 flex items-center gap-2&quot;&gt;&#10;                                    &lt;span className=&quot;w-2 h-2 rounded-full bg-blue-500&quot;&gt;&lt;/span&gt;&#10;                                    Hoạt động ngoại khóa&#10;                                &lt;/h4&gt;&#10;                                &lt;div className=&quot;space-y-4&quot;&gt;&#10;                                    {profile.extracurriculars.length &gt; 0 ? profile.extracurriculars.map(act =&gt; (&#10;                                        &lt;div key={act.id}&#10;                                             className=&quot;pl-4 border-l-2 border-gray-200 hover:border-blue-400 transition-colors&quot;&gt;&#10;                                            &lt;h5 className=&quot;font-bold text-gray-800 text-sm&quot;&gt;{act.title}&lt;/h5&gt;&#10;                                            &lt;div className=&quot;flex justify-between items-center mt-1&quot;&gt;&#10;                                                &lt;span&#10;                                                    className=&quot;text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-0.5 rounded&quot;&gt;{act.role}&lt;/span&gt;&#10;                                                &lt;span className=&quot;text-xs text-gray-400&quot;&gt;{act.year}&lt;/span&gt;&#10;                                            &lt;/div&gt;&#10;                                            &lt;p className=&quot;text-xs text-gray-500 mt-1 line-clamp-2&quot;&gt;{act.description}&lt;/p&gt;&#10;                                        &lt;/div&gt;&#10;                                    )) : &lt;p className=&quot;text-gray-400 italic text-sm&quot;&gt;Chưa cập nhật hoạt động&lt;/p&gt;}&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            {/* Achievements List */}&#10;                            &lt;div&gt;&#10;                                &lt;h4 className=&quot;font-semibold text-gray-800 mb-4 flex items-center gap-2&quot;&gt;&#10;                                    &lt;span className=&quot;w-2 h-2 rounded-full bg-yellow-500&quot;&gt;&lt;/span&gt;&#10;                                    Giải thưởng &amp; Chứng nhận&#10;                                &lt;/h4&gt;&#10;                                &lt;div className=&quot;space-y-2&quot;&gt;&#10;                                    {profile.achievements.length &gt; 0 ? profile.achievements.map((ach, idx) =&gt; (&#10;                                        &lt;div key={idx}&#10;                                             className=&quot;flex items-start gap-2 bg-yellow-50 p-2.5 rounded-lg border border-yellow-100&quot;&gt;&#10;                                            &lt;GraduationCap className=&quot;text-yellow-600 mt-0.5 flex-shrink-0&quot; size={16}/&gt;&#10;                                            &lt;span className=&quot;text-sm text-gray-800&quot;&gt;{ach}&lt;/span&gt;&#10;                                        &lt;/div&gt;&#10;                                    )) : &lt;p className=&quot;text-gray-400 italic text-sm&quot;&gt;Chưa cập nhật thành tích&lt;/p&gt;}&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/section&gt;&#10;&#10;                    {/* 4. DOCUMENTS SECTION (NEW FEATURE) */}&#10;                    &lt;section className=&quot;bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden&quot;&gt;&#10;                        &lt;div&#10;                            className=&quot;px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50&quot;&gt;&#10;                            &lt;h3 className=&quot;text-lg font-bold text-gray-900 flex items-center gap-2&quot;&gt;&#10;                                &lt;FileText className=&quot;text-gray-600&quot; size={20}/&gt;&#10;                                TÀI LIỆU ĐÍNH KÈM&#10;                            &lt;/h3&gt;&#10;                            &lt;StatusBadge isComplete={isDocumentsComplete}/&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;p-6&quot;&gt;&#10;                            {/* Upload Area */}&#10;                            &lt;div className=&quot;grid grid-cols-2 sm:grid-cols-5 gap-4 mb-6&quot;&gt;&#10;                                &lt;button onClick={() =&gt; triggerUpload('transcript')}&#10;                                        className=&quot;flex flex-col items-center justify-center p-4 border-2 border-dashed border-blue-200 rounded-xl bg-blue-50 hover:bg-blue-100 transition-colors group&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-full bg-white flex items-center justify-center mb-2 shadow-sm text-blue-500 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                        &lt;UploadCloud size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-xs font-semibold text-blue-700&quot;&gt;Tải lên Bảng điểm&lt;/span&gt;&#10;                                &lt;/button&gt;&#10;                                &lt;button onClick={() =&gt; triggerUpload('certificate')}&#10;                                        className=&quot;flex flex-col items-center justify-center p-4 border-2 border-dashed border-purple-200 rounded-xl bg-purple-50 hover:bg-purple-100 transition-colors group&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-full bg-white flex items-center justify-center mb-2 shadow-sm text-purple-500 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                        &lt;UploadCloud size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-xs font-semibold text-purple-700&quot;&gt;Tải lên Chứng chỉ&lt;/span&gt;&#10;                                &lt;/button&gt;&#10;                                &lt;button onClick={() =&gt; triggerUpload('letter')}&#10;                                        className=&quot;flex flex-col items-center justify-center p-4 border-2 border-dashed border-green-200 rounded-xl bg-green-50 hover:bg-green-100 transition-colors group&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-full bg-white flex items-center justify-center mb-2 shadow-sm text-green-500 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                        &lt;UploadCloud size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-xs font-semibold text-green-700&quot;&gt;Thư giới thiệu&lt;/span&gt;&#10;                                &lt;/button&gt;&#10;                                &lt;button onClick={() =&gt; triggerUpload('essay')}&#10;                                        className=&quot;flex flex-col items-center justify-center p-4 border-2 border-dashed border-orange-200 rounded-xl bg-orange-50 hover:bg-orange-100 transition-colors group&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-full bg-white flex items-center justify-center mb-2 shadow-sm text-orange-500 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                        &lt;UploadCloud size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-xs font-semibold text-orange-700&quot;&gt;Bài luận mẫu&lt;/span&gt;&#10;                                &lt;/button&gt;&#10;                                &lt;button onClick={() =&gt; triggerUpload('other')}&#10;                                        className=&quot;flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors group&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;w-10 h-10 rounded-full bg-white flex items-center justify-center mb-2 shadow-sm text-gray-600 group-hover:scale-110 transition-transform&quot;&gt;&#10;                                        &lt;UploadCloud size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;span className=&quot;text-xs font-semibold text-gray-700&quot;&gt;File khác&lt;/span&gt;&#10;                                &lt;/button&gt;&#10;                            &lt;/div&gt;&#10;&#10;                            {/* Document List */}&#10;                            &lt;div className=&quot;border rounded-xl overflow-hidden&quot;&gt;&#10;                                &lt;table className=&quot;min-w-full divide-y divide-gray-200&quot;&gt;&#10;                                    &lt;thead className=&quot;bg-gray-50&quot;&gt;&#10;                                    &lt;tr&gt;&#10;                                        &lt;th scope=&quot;col&quot;&#10;                                            className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;Tên&#10;                                            tài liệu&#10;                                        &lt;/th&gt;&#10;                                        &lt;th scope=&quot;col&quot;&#10;                                            className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;Loại&#10;                                        &lt;/th&gt;&#10;                                        &lt;th scope=&quot;col&quot;&#10;                                            className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;Ngày&#10;                                            tải lên&#10;                                        &lt;/th&gt;&#10;                                        &lt;th scope=&quot;col&quot;&#10;                                            className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;Kích&#10;                                            thước&#10;                                        &lt;/th&gt;&#10;                                        &lt;th scope=&quot;col&quot; className=&quot;relative px-6 py-3&quot;&gt;&lt;span className=&quot;sr-only&quot;&gt;Hành động&lt;/span&gt;&#10;                                        &lt;/th&gt;&#10;                                    &lt;/tr&gt;&#10;                                    &lt;/thead&gt;&#10;                                    &lt;tbody className=&quot;bg-white divide-y divide-gray-200&quot;&gt;&#10;                                    {profile.documents.length &gt; 0 ? profile.documents.map((doc) =&gt; (&#10;                                        &lt;tr key={doc.id} className=&quot;hover:bg-gray-50 transition-colors&quot;&gt;&#10;                                            &lt;td className=&quot;px-6 py-4 whitespace-nowrap&quot;&gt;&#10;                                                &lt;div className=&quot;flex items-center&quot;&gt;&#10;                                                    &lt;div&#10;                                                        className=&quot;flex-shrink-0 h-8 w-8 rounded bg-gray-100 flex items-center justify-center text-gray-500&quot;&gt;&#10;                                                        &lt;File size={16}/&gt;&#10;                                                    &lt;/div&gt;&#10;                                                    &lt;div className=&quot;ml-4&quot;&gt;&#10;                                                        &lt;div&#10;                                                            className=&quot;text-sm font-medium text-gray-900&quot;&gt;{doc.name}&lt;/div&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                            &lt;/td&gt;&#10;                                            &lt;td className=&quot;px-6 py-4 whitespace-nowrap&quot;&gt;&#10;                          &lt;span&#10;                              className=&quot;px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800&quot;&gt;&#10;                            {getDocTypeName(doc.type)}&#10;                          &lt;/span&gt;&#10;                                            &lt;/td&gt;&#10;                                            &lt;td className=&quot;px-6 py-4 whitespace-nowrap text-sm text-gray-500&quot;&gt;{doc.uploadDate}&lt;/td&gt;&#10;                                            &lt;td className=&quot;px-6 py-4 whitespace-nowrap text-sm text-gray-500&quot;&gt;{doc.size}&lt;/td&gt;&#10;                                            &lt;td className=&quot;px-6 py-4 whitespace-nowrap text-right text-sm font-medium&quot;&gt;&#10;                                                &lt;button&#10;                                                    onClick={() =&gt; onDeleteDocument(doc.id)}&#10;                                                    className=&quot;text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full transition-colors&quot;&#10;                                                &gt;&#10;                                                    &lt;Trash2 size={16}/&gt;&#10;                                                &lt;/button&gt;&#10;                                            &lt;/td&gt;&#10;                                        &lt;/tr&gt;&#10;                                    )) : (&#10;                                        &lt;tr&gt;&#10;                                            &lt;td colSpan={5} className=&quot;px-6 py-10 text-center text-sm text-gray-400&quot;&gt;&#10;                                                Chưa có tài liệu nào được tải lên. Hãy chọn các mục ở trên để thêm tài&#10;                                                liệu.&#10;                                            &lt;/td&gt;&#10;                                        &lt;/tr&gt;&#10;                                    )}&#10;                                    &lt;/tbody&gt;&#10;                                &lt;/table&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/section&gt;&#10;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/dashboard/checklist/ChecklistPage.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/dashboard/checklist/ChecklistPage.tsx" />
              <option name="originalContent" value="                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;export default ChecklistPage;&#10;&#10;" />
              <option name="updatedContent" value="'use client'&#10;&#10;import React, {useState, useMemo, useCallback} from 'react';&#10;import {&#10;    CheckSquare,&#10;    Square,&#10;    ArrowRight,&#10;    Flag,&#10;    Rocket,&#10;    Trophy,&#10;    AlertCircle,&#10;    ChevronDown,&#10;    UploadCloud,&#10;    FileText,&#10;    MessageSquare,&#10;    Clock,&#10;    Calendar,&#10;    Loader2,&#10;    Sparkles&#10;} from 'lucide-react';&#10;import {Task, Stage, StudentProfile} from '@/components/types';&#10;import ProgressBar from './ProgressBar';&#10;import StageNavigation from './StageNavigation';&#10;import {scanCVWithAI} from '@/service/geminiService';&#10;&#10;// Helper to calculate days remaining&#10;const getDaysRemaining = (deadline: string) =&gt; {&#10;    const parts = deadline.split('/');&#10;    const date = new Date(parseInt(parts[2]), parseInt(parts[1]) - 1, parseInt(parts[0]));&#10;    const today = new Date();&#10;    const diffTime = date.getTime() - today.getTime();&#10;    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));&#10;&#10;    if (diffDays &lt; 0) return {text: 'Quá hạn', color: 'text-red-600 bg-red-50 ring-red-100'};&#10;    if (diffDays &lt;= 7) return {text: `Còn ${diffDays} ngày`, color: 'text-orange-600 bg-orange-50 ring-orange-100'};&#10;    return {text: 'Đang thực hiện', color: 'text-blue-600 bg-blue-50 ring-blue-100'};&#10;};&#10;&#10;const ChecklistPage: React.FC = () =&gt; {&#10;    const [stages, setStages] = useState&lt;Stage[]&gt;([&#10;        {id: 1, name: 'Khởi động', description: 'Làm quen với HOEX, thiết lập hồ sơ &amp; mục tiêu.', isUnlocked: true},&#10;        {&#10;            id: 2,&#10;            name: 'Phát triển',&#10;            description: 'Xây dựng hồ sơ học thuật, ngoại khóa và tài liệu ứng tuyển.',&#10;            isUnlocked: false&#10;        },&#10;        {&#10;            id: 3,&#10;            name: 'Về đích',&#10;            description: 'Hoàn tất thủ tục visa, vé máy bay và chuẩn bị lên đường.',&#10;            isUnlocked: false&#10;        },&#10;    ]);&#10;&#10;    const [tasks, setTasks] = useState&lt;Task[]&gt;([&#10;        // Stage 1 - Simplified with AI CV Scanning&#10;        {&#10;            id: '1-1',&#10;            stageId: 1,&#10;            title: 'Đọc nội quy của HOEX',&#10;            deadline: '25/10/2023',&#10;            isCompleted: false,&#10;            category: 'Khởi động'&#10;        },&#10;        {&#10;            id: '1-2',&#10;            stageId: 1,&#10;            title: 'Upload CV - AI sẽ tự động scan thông tin',&#10;            deadline: '28/10/2023',&#10;            isCompleted: false,&#10;            requiresFile: true,&#10;            category: 'Khởi động',&#10;            feedback: 'Sau khi upload, AI sẽ tự động trích xuất: thông tin cá nhân, học vấn, kinh nghiệm, kỹ năng, và thành tích từ CV của bạn.'&#10;        },&#10;&#10;        // Stage 2&#10;        {&#10;            id: '2-1',&#10;            stageId: 2,&#10;            category: 'Hồ sơ học thuật',&#10;            title: 'Tải lên bảng điểm (Transcript)',&#10;            deadline: '15/11/2023',&#10;            isCompleted: false,&#10;            requiresFile: true&#10;        },&#10;        {&#10;            id: '2-2',&#10;            stageId: 2,&#10;            category: 'Hồ sơ học thuật',&#10;            title: 'Tải lên chứng chỉ ngoại ngữ (IELTS/TOEFL)',&#10;            deadline: '20/11/2023',&#10;            isCompleted: false,&#10;            requiresFile: true&#10;        },&#10;        {&#10;            id: '2-3',&#10;            stageId: 2,&#10;            category: 'Hồ sơ học thuật',&#10;            title: 'Cập nhật kỹ năng bổ trợ (Lập trình, nhạc cụ...)',&#10;            deadline: '25/11/2023',&#10;            isCompleted: false&#10;        },&#10;        {&#10;            id: '2-4',&#10;            stageId: 2,&#10;            category: 'Tài liệu cần thiết',&#10;            title: 'Tải lên CV/Resume chuẩn',&#10;            deadline: '01/12/2023',&#10;            isCompleted: false,&#10;            requiresFile: true&#10;        },&#10;        {&#10;            id: '2-5',&#10;            stageId: 2,&#10;            category: 'Tài liệu cần thiết',&#10;            title: 'Hoàn thiện Sơ yếu lý lịch',&#10;            deadline: '05/12/2023',&#10;            isCompleted: false,&#10;            requiresFile: true&#10;        },&#10;        {&#10;            id: '2-6',&#10;            stageId: 2,&#10;            category: 'Tài liệu cần thiết',&#10;            title: 'Viết bài luận chính (Personal Statement)',&#10;            deadline: '15/12/2023',&#10;            isCompleted: false,&#10;            requiresFile: true&#10;        },&#10;        {&#10;            id: '2-7',&#10;            stageId: 2,&#10;            category: 'Tài liệu cần thiết',&#10;            title: 'Xin thư giới thiệu (LOR)',&#10;            deadline: '20/12/2023',&#10;            isCompleted: false,&#10;            requiresFile: true&#10;        },&#10;        {&#10;            id: '2-9',&#10;            stageId: 2,&#10;            category: 'Cá nhân hóa (Mục tiêu Mỹ)',&#10;            title: 'Thi SAT/ACT hoặc bổ sung chứng chỉ chuẩn hóa',&#10;            deadline: '10/01/2024',&#10;            isCompleted: false,&#10;            requiresFile: true&#10;        },&#10;        {&#10;            id: '2-10',&#10;            stageId: 2,&#10;            category: 'Cá nhân hóa (Mục tiêu Mỹ)',&#10;            title: 'Tham gia hoạt động ngoại khóa (Vai trò lãnh đạo)',&#10;            deadline: '15/01/2024',&#10;            isCompleted: false&#10;        },&#10;        {&#10;            id: '2-11',&#10;            stageId: 2,&#10;            category: 'Cá nhân hóa (Mục tiêu Mỹ)',&#10;            title: 'Chuẩn bị hồ sơ chứng minh tài chính',&#10;            deadline: '20/01/2024',&#10;            isCompleted: false,&#10;            requiresFile: true&#10;        },&#10;&#10;        // Stage 3&#10;        {&#10;            id: '3-1',&#10;            stageId: 3,&#10;            title: 'Đặt vé máy bay',&#10;            deadline: '01/06/2024',&#10;            isCompleted: false,&#10;            requiresFile: true&#10;        },&#10;        {&#10;            id: '3-2',&#10;            stageId: 3,&#10;            title: 'Hoàn thiện hồ sơ Visa (Visa F-1 &amp; Phỏng vấn)',&#10;            deadline: '15/06/2024',&#10;            isCompleted: false,&#10;            requiresFile: true&#10;        },&#10;        {&#10;            id: '3-3',&#10;            stageId: 3,&#10;            title: 'Kiểm tra danh sách đồ cần chuẩn bị trước khi bay',&#10;            deadline: '01/07/2024',&#10;            isCompleted: false&#10;        },&#10;    ]);&#10;&#10;    const [activeStageId, setActiveStageId] = useState&lt;number&gt;(1);&#10;    const [expandedTaskIds, setExpandedTaskIds] = useState&lt;Set&lt;string&gt;&gt;(new Set());&#10;    const [uploadingCV, setUploadingCV] = useState(false);&#10;    const [scanningCV, setScanningCV] = useState(false);&#10;    const [scannedProfile, setScannedProfile] = useState&lt;StudentProfile | null&gt;(null);&#10;    const [cvScanError, setCvScanError] = useState&lt;string&gt;('');&#10;&#10;    const currentStageTasks = useMemo(() =&gt;&#10;            tasks.filter(t =&gt; t.stageId === activeStageId),&#10;        [tasks, activeStageId]);&#10;&#10;    const calculateProgress = useCallback((stageId: number) =&gt; {&#10;        const stageTasks = tasks.filter(t =&gt; t.stageId === stageId);&#10;        if (stageTasks.length === 0) return 0;&#10;        const completed = stageTasks.filter(t =&gt; t.isCompleted).length;&#10;        return (completed / stageTasks.length) * 100;&#10;    }, [tasks]);&#10;&#10;    const currentProgress = useMemo(() =&gt; calculateProgress(activeStageId), [activeStageId, calculateProgress]);&#10;&#10;    const completedStages = useMemo(() =&gt; {&#10;        return stages&#10;            .filter(s =&gt; calculateProgress(s.id) === 100)&#10;            .map(s =&gt; s.id);&#10;    }, [stages, calculateProgress]);&#10;&#10;    const handleToggleTask = (taskId: string) =&gt; {&#10;        setTasks(prev =&gt; prev.map(t =&gt;&#10;            t.id === taskId ? {...t, isCompleted: !t.isCompleted} : t&#10;        ));&#10;    };&#10;&#10;    const handleToggleExpand = (taskId: string) =&gt; {&#10;        setExpandedTaskIds(prev =&gt; {&#10;            const newSet = new Set(prev);&#10;            if (newSet.has(taskId)) {&#10;                newSet.delete(taskId);&#10;            } else {&#10;                newSet.add(taskId);&#10;            }&#10;            return newSet;&#10;        });&#10;    };&#10;&#10;    const handleCVUpload = async (event: React.ChangeEvent&lt;HTMLInputElement&gt;, taskId: string) =&gt; {&#10;        const file = event.target.files?.[0];&#10;        if (!file) return;&#10;&#10;        setUploadingCV(true);&#10;        setScanningCV(true);&#10;        setCvScanError('');&#10;&#10;        try {&#10;            const text = await file.text();&#10;&#10;            setTasks(prev =&gt; prev.map(t =&gt;&#10;                t.id === taskId ? {...t, uploadedFile: file.name} : t&#10;            ));&#10;&#10;            const profile = await scanCVWithAI(text);&#10;&#10;            if (profile) {&#10;                setScannedProfile(profile);&#10;                setTasks(prev =&gt; prev.map(t =&gt;&#10;                    t.id === taskId ? {&#10;                        ...t,&#10;                        isCompleted: true,&#10;                        feedback: `✅ AI đã scan thành công! Tìm thấy: ${profile.name}, GPA: ${profile.gpa}, ${profile.extracurriculars.length} hoạt động ngoại khóa, ${profile.achievements.length} thành tích.`&#10;                    } : t&#10;                ));&#10;            } else {&#10;                setCvScanError('Không thể scan CV. Vui lòng thử lại hoặc nhập thông tin thủ công.');&#10;            }&#10;        } catch (error) {&#10;            console.error('Error uploading and scanning CV:', error);&#10;            setCvScanError('Lỗi khi xử lý CV. Vui lòng thử lại.');&#10;        } finally {&#10;            setUploadingCV(false);&#10;            setScanningCV(false);&#10;        }&#10;    };&#10;&#10;    const handleUnlockNextStage = () =&gt; {&#10;        const nextStageId = activeStageId + 1;&#10;        if (nextStageId &lt;= 3) {&#10;            setStages(prev =&gt; prev.map(s =&gt;&#10;                s.id === nextStageId ? {...s, isUnlocked: true} : s&#10;            ));&#10;            setActiveStageId(nextStageId);&#10;            window.scrollTo({top: 0, behavior: 'smooth'});&#10;        }&#10;    };&#10;&#10;    const canAdvance = currentProgress &gt;= 90 &amp;&amp; activeStageId &lt; 3 &amp;&amp; !stages.find(s =&gt; s.id === activeStageId + 1)?.isUnlocked;&#10;    const isNextStageAlreadyUnlocked = stages.find(s =&gt; s.id === activeStageId + 1)?.isUnlocked;&#10;&#10;    const tasksByCategory = useMemo(() =&gt; {&#10;        const groups: { [key: string]: Task[] } = {};&#10;        currentStageTasks.forEach(task =&gt; {&#10;            const cat = task.category || 'Chung';&#10;            if (!groups[cat]) groups[cat] = [];&#10;            groups[cat].push(task);&#10;        });&#10;        return groups;&#10;    }, [currentStageTasks]);&#10;&#10;    const orderedCategories = ['Khởi động', 'Chung', 'Hồ sơ học thuật', 'Tài liệu cần thiết', 'Cá nhân hóa (Mục tiêu Mỹ)'];&#10;&#10;    return (&#10;        &lt;div className=&quot;w-full max-w-7xl mx-auto p-4 md:p-8&quot;&gt;&#10;            &lt;div className=&quot;mb-8&quot;&gt;&#10;                &lt;h1 className=&quot;text-2xl font-bold text-gray-800 dark:text-white&quot;&gt;Checklist Hồ sơ&lt;/h1&gt;&#10;                &lt;p className=&quot;text-gray-500 dark:text-gray-400 mt-1&quot;&gt;Quản lý các đầu việc cần làm để hoàn thiện hồ sơ du&#10;                    học của bạn.&lt;/p&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-4 gap-8&quot;&gt;&#10;                &lt;div className=&quot;lg:col-span-1&quot;&gt;&#10;                    &lt;StageNavigation&#10;                        stages={stages}&#10;                        currentStageId={activeStageId}&#10;                        onSelectStage={setActiveStageId}&#10;                        completedStages={completedStages}&#10;                    /&gt;&#10;                &lt;/div&gt;&#10;&#10;                &lt;div className=&quot;lg:col-span-3 space-y-6&quot;&gt;&#10;                    &lt;div&#10;                        className=&quot;bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden&quot;&gt;&#10;                        &lt;div className=&quot;p-6 border-b border-gray-100 dark:border-gray-700&quot;&gt;&#10;                            &lt;div className=&quot;flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4&quot;&gt;&#10;                                &lt;div className=&quot;flex items-center gap-3&quot;&gt;&#10;                                    &lt;div&#10;                                        className={`p-2 rounded-lg ${activeStageId === 1 ? 'bg-blue-100 text-blue-600' : activeStageId === 2 ? 'bg-purple-100 text-purple-600' : 'bg-green-100 text-green-600'}`}&gt;&#10;                                        {activeStageId === 1 ? &lt;Rocket size={24}/&gt; : activeStageId === 2 ?&#10;                                            &lt;AlertCircle size={24}/&gt; : &lt;Trophy size={24}/&gt;}&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&gt;&#10;                                        &lt;h2 className=&quot;text-xl font-bold text-gray-800 dark:text-white&quot;&gt;&#10;                                            Giai đoạn {activeStageId}: {stages[activeStageId - 1].name}&#10;                                        &lt;/h2&gt;&#10;                                        &lt;p className=&quot;text-sm text-gray-500 dark:text-gray-400 hidden md:block&quot;&gt;&#10;                                            {stages[activeStageId - 1].description}&#10;                                        &lt;/p&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;&#10;                                {canAdvance &amp;&amp; (&#10;                                    &lt;button&#10;                                        onClick={handleUnlockNextStage}&#10;                                        className=&quot;flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md shadow-blue-200 transition-all font-medium animate-pulse&quot;&#10;                                    &gt;&#10;                                        Mở khóa Giai đoạn {activeStageId + 1} &lt;ArrowRight size={18}/&gt;&#10;                                    &lt;/button&gt;&#10;                                )}&#10;&#10;                                {!canAdvance &amp;&amp; isNextStageAlreadyUnlocked &amp;&amp; (&#10;                                    &lt;button&#10;                                        onClick={() =&gt; setActiveStageId(activeStageId + 1)}&#10;                                        className=&quot;flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg transition-all font-medium text-sm&quot;&#10;                                    &gt;&#10;                                        Đến Giai đoạn {activeStageId + 1} &lt;ArrowRight size={16}/&gt;&#10;                                    &lt;/button&gt;&#10;                                )}&#10;                            &lt;/div&gt;&#10;                            &lt;ProgressBar percentage={currentProgress}/&gt;&#10;                        &lt;/div&gt;&#10;&#10;                        &lt;div className=&quot;p-6 bg-gray-50/30 dark:bg-gray-900/30 min-h-[400px]&quot;&gt;&#10;                            {orderedCategories.filter(cat =&gt; tasksByCategory[cat]).map((category) =&gt; (&#10;                                &lt;div key={category} className=&quot;mb-8 last:mb-0&quot;&gt;&#10;                                    {category !== 'Chung' &amp;&amp; (&#10;                                        &lt;h3 className=&quot;text-sm font-bold text-gray-400 uppercase tracking-wider mb-3 ml-1 flex items-center gap-2&quot;&gt;&#10;                                            &lt;span className=&quot;w-1.5 h-1.5 rounded-full bg-gray-300&quot;&gt;&lt;/span&gt;&#10;                                            {category}&#10;                                        &lt;/h3&gt;&#10;                                    )}&#10;&#10;                                    &lt;div className=&quot;space-y-3&quot;&gt;&#10;                                        {tasksByCategory[category].map((task) =&gt; {&#10;                                            const deadlineStatus = getDaysRemaining(task.deadline);&#10;                                            const isExpanded = expandedTaskIds.has(task.id);&#10;                                            const needsFile = task.requiresFile;&#10;&#10;                                            return (&#10;                                                &lt;div&#10;                                                    key={task.id}&#10;                                                    className={`group bg-white dark:bg-gray-800 border rounded-xl transition-all duration-300 cursor-pointer ${&#10;                                                        task.isCompleted&#10;                                                            ? 'border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50'&#10;                                                            : `border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500 hover:shadow-lg ${isExpanded ? 'ring-1 ring-blue-300 shadow-md' : 'hover:-translate-y-0.5'}`&#10;                                                    }`}&#10;                                                    onClick={() =&gt; handleToggleExpand(task.id)}&#10;                                                &gt;&#10;                                                    &lt;div className=&quot;flex items-center justify-between p-4&quot;&gt;&#10;                                                        &lt;div className=&quot;flex items-center gap-4 flex-1&quot;&gt;&#10;                                                            &lt;button&#10;                                                                onClick={(e) =&gt; {&#10;                                                                    e.stopPropagation();&#10;                                                                    handleToggleTask(task.id);&#10;                                                                }}&#10;                                                                disabled={task.id === '1-2' &amp;&amp; !task.uploadedFile}&#10;                                                                title={task.id === '1-2' &amp;&amp; !task.uploadedFile ? 'Vui lòng upload CV trước để hoàn thành task này' : ''}&#10;                                                                className={`flex-shrink-0 transition-all duration-300 transform ${&#10;                                                                    task.isCompleted&#10;                                                                        ? 'text-blue-600 scale-100 rotate-0'&#10;                                                                        : task.id === '1-2' &amp;&amp; !task.uploadedFile&#10;                                                                            ? 'text-gray-200 cursor-not-allowed'&#10;                                                                            : 'text-gray-300 group-hover:text-blue-500 hover:scale-110'&#10;                                                                }`}&#10;                                                            &gt;&#10;                                                                {task.isCompleted ? (&#10;                                                                    &lt;CheckSquare size={24}&#10;                                                                                 className=&quot;fill-blue-50 transition-all duration-300 ease-out&quot;/&gt;&#10;                                                                ) : (&#10;                                                                    &lt;Square size={24}/&gt;&#10;                                                                )}&#10;                                                            &lt;/button&gt;&#10;&#10;                                                            &lt;span&#10;                                                                className={`font-medium text-base transition-all duration-300 ${&#10;                                                                    task.isCompleted ? 'text-gray-400 line-through decoration-gray-300' : 'text-gray-800 dark:text-gray-200'&#10;                                                                }`}&gt;&#10;                                                                {task.title}&#10;                                                            &lt;/span&gt;&#10;                                                        &lt;/div&gt;&#10;&#10;                                                        &lt;div className=&quot;flex items-center ml-4&quot;&gt;&#10;                                                            &lt;button&#10;                                                                className={`p-1.5 rounded-full transition-all duration-200 ${&#10;                                                                    isExpanded&#10;                                                                        ? 'bg-blue-100 text-blue-600 rotate-180'&#10;                                                                        : 'bg-gray-50 dark:bg-gray-700 text-gray-400 group-hover:bg-gray-100 group-hover:text-gray-600'&#10;                                                                }`}&#10;                                                            &gt;&#10;                                                                &lt;ChevronDown size={20}/&gt;&#10;                                                            &lt;/button&gt;&#10;                                                        &lt;/div&gt;&#10;                                                    &lt;/div&gt;&#10;&#10;                                                    &lt;div&#10;                                                        className={`overflow-hidden transition-all duration-300 ease-in-out ${isExpanded ? 'max-h-[800px] opacity-100' : 'max-h-0 opacity-0'}`}&gt;&#10;                                                        &lt;div className=&quot;px-4 pb-6 md:px-6 md:pl-14 pt-0 space-y-5&quot;&gt;&#10;                                                            &lt;div&#10;                                                                className=&quot;flex flex-wrap items-center gap-y-2 gap-x-6 pb-4 border-b border-gray-100 dark:border-gray-700&quot;&gt;&#10;                                                                &lt;div&#10;                                                                    className=&quot;flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400&quot;&gt;&#10;                                                                    &lt;Calendar size={16} className=&quot;text-gray-400&quot;/&gt;&#10;                                                                    &lt;span&gt;Hạn chót: &lt;span&#10;                                                                        className=&quot;font-semibold text-gray-800 dark:text-gray-200&quot;&gt;{task.deadline}&lt;/span&gt;&lt;/span&gt;&#10;                                                                &lt;/div&gt;&#10;                                                                &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                                                                    &lt;div&#10;                                                                        className={`flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-semibold ring-1 ring-inset ${&#10;                                                                            task.isCompleted ? 'bg-green-50 text-green-700 ring-green-200' : deadlineStatus.color&#10;                                                                        }`}&gt;&#10;                                                                        {task.isCompleted ? &lt;CheckSquare size={12}/&gt; :&#10;                                                                            &lt;Clock size={12}/&gt;}&#10;                                                                        {task.isCompleted ? 'Đã hoàn thành' : deadlineStatus.text}&#10;                                                                    &lt;/div&gt;&#10;                                                                &lt;/div&gt;&#10;                                                            &lt;/div&gt;&#10;&#10;                                                            {needsFile &amp;&amp; (&#10;                                                                &lt;div&gt;&#10;                                                                    {task.id === '1-2' &amp;&amp; !task.uploadedFile &amp;&amp; !scanningCV &amp;&amp; (&#10;                                                                        &lt;div className=&quot;mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 rounded&quot;&gt;&#10;                                                                            &lt;p className=&quot;text-sm text-blue-800 dark:text-blue-200 font-medium&quot;&gt;&#10;                                                                                ℹ️ Task này sẽ hoàn thành ngay khi bạn upload CV. AI sẽ tự động scan để trích xuất thông tin.&#10;                                                                            &lt;/p&gt;&#10;                                                                        &lt;/div&gt;&#10;                                                                    )}&#10;                                                                    {scanningCV &amp;&amp; task.id === '1-2' ? (&#10;                                                                        &lt;div&#10;                                                                            className=&quot;flex items-center justify-center p-8 bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200 rounded-xl&quot;&gt;&#10;                                                                            &lt;div&#10;                                                                                className=&quot;flex flex-col items-center gap-4&quot;&gt;&#10;                                                                                &lt;Loader2&#10;                                                                                    className=&quot;w-10 h-10 text-purple-600 animate-spin&quot;/&gt;&#10;                                                                                &lt;div className=&quot;text-center&quot;&gt;&#10;                                                                                    &lt;p className=&quot;text-base font-bold text-purple-700&quot;&gt;AI&#10;                                                                                        đang scan CV của bạn...&lt;/p&gt;&#10;                                                                                    &lt;p className=&quot;text-sm text-gray-600 mt-1&quot;&gt;Vui&#10;                                                                                        lòng đợi trong giây lát&lt;/p&gt;&#10;                                                                                &lt;/div&gt;&#10;                                                                            &lt;/div&gt;&#10;                                                                        &lt;/div&gt;&#10;                                                                    ) : task.uploadedFile ? (&#10;                                                                        &lt;div&#10;                                                                            className=&quot;p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl&quot;&gt;&#10;                                                                            &lt;div&#10;                                                                                className=&quot;flex items-center gap-3 mb-3&quot;&gt;&#10;                                                                                &lt;div&#10;                                                                                    className=&quot;p-2 bg-white rounded-lg border border-green-200 shadow-sm text-green-600&quot;&gt;&#10;                                                                                    &lt;FileText size={20}/&gt;&#10;                                                                                &lt;/div&gt;&#10;                                                                                &lt;div className=&quot;flex-1&quot;&gt;&#10;                                                                                    &lt;span&#10;                                                                                        className=&quot;text-sm font-bold text-gray-800 block&quot;&gt;{task.uploadedFile}&lt;/span&gt;&#10;                                                                                    &lt;span&#10;                                                                                        className=&quot;text-xs text-gray-500&quot;&gt;CV đã được AI xử lý thành công&lt;/span&gt;&#10;                                                                                &lt;/div&gt;&#10;                                                                            &lt;/div&gt;&#10;                                                                            {scannedProfile &amp;&amp; task.id === '1-2' &amp;&amp; (&#10;                                                                                &lt;div&#10;                                                                                    className=&quot;bg-white rounded-lg p-4 border border-green-100&quot;&gt;&#10;                                                                                    &lt;p className=&quot;text-xs font-bold text-green-700 mb-2&quot;&gt;✨&#10;                                                                                        Thông tin đã trích xuất:&lt;/p&gt;&#10;                                                                                    &lt;div&#10;                                                                                        className=&quot;grid grid-cols-2 gap-2 text-xs&quot;&gt;&#10;                                                                                        &lt;div&gt;&lt;span&#10;                                                                                            className=&quot;text-gray-500&quot;&gt;Họ tên:&lt;/span&gt;&#10;                                                                                            &lt;span&#10;                                                                                                className=&quot;font-semibold&quot;&gt; {scannedProfile.name}&lt;/span&gt;&#10;                                                                                        &lt;/div&gt;&#10;                                                                                        &lt;div&gt;&lt;span&#10;                                                                                            className=&quot;text-gray-500&quot;&gt;Email:&lt;/span&gt;&#10;                                                                                            &lt;span&#10;                                                                                                className=&quot;font-semibold&quot;&gt; {scannedProfile.email}&lt;/span&gt;&#10;                                                                                        &lt;/div&gt;&#10;                                                                                        &lt;div&gt;&lt;span&#10;                                                                                            className=&quot;text-gray-500&quot;&gt;GPA:&lt;/span&gt;&#10;                                                                                            &lt;span&#10;                                                                                                className=&quot;font-semibold&quot;&gt; {scannedProfile.gpa}/{scannedProfile.gpaScale}&lt;/span&gt;&#10;                                                                                        &lt;/div&gt;&#10;                                                                                        &lt;div&gt;&lt;span&#10;                                                                                            className=&quot;text-gray-500&quot;&gt;Tiếng Anh:&lt;/span&gt;&#10;                                                                                            &lt;span&#10;                                                                                                className=&quot;font-semibold&quot;&gt; {scannedProfile.englishLevel}&lt;/span&gt;&#10;                                                                                        &lt;/div&gt;&#10;                                                                                        &lt;div&#10;                                                                                            className=&quot;col-span-2&quot;&gt;&lt;span&#10;                                                                                            className=&quot;text-gray-500&quot;&gt;Hoạt động ngoại khóa:&lt;/span&gt;&#10;                                                                                            &lt;span&#10;                                                                                                className=&quot;font-semibold&quot;&gt; {scannedProfile.extracurriculars.length} hoạt động&lt;/span&gt;&#10;                                                                                        &lt;/div&gt;&#10;                                                                                        &lt;div&#10;                                                                                            className=&quot;col-span-2&quot;&gt;&lt;span&#10;                                                                                            className=&quot;text-gray-500&quot;&gt;Thành tích:&lt;/span&gt;&#10;                                                                                            &lt;span&#10;                                                                                                className=&quot;font-semibold&quot;&gt; {scannedProfile.achievements.length} thành tích&lt;/span&gt;&#10;                                                                                        &lt;/div&gt;&#10;                                                                                    &lt;/div&gt;&#10;                                                                                &lt;/div&gt;&#10;                                                                            )}&#10;                                                                        &lt;/div&gt;&#10;                                                                    ) : (&#10;                                                                        &lt;label htmlFor={`cv-upload-${task.id}`}&#10;                                                                               className=&quot;relative border-2 border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-gray-700 hover:border-blue-300 dark:hover:border-blue-500 rounded-xl p-6 transition-colors cursor-pointer group/upload block&quot;&gt;&#10;                                                                            &lt;input&#10;                                                                                id={`cv-upload-${task.id}`}&#10;                                                                                type=&quot;file&quot;&#10;                                                                                accept=&quot;.pdf,.doc,.docx,.txt&quot;&#10;                                                                                className=&quot;hidden&quot;&#10;                                                                                onChange={(e) =&gt; handleCVUpload(e, task.id)}&#10;                                                                                disabled={uploadingCV}&#10;                                                                            /&gt;&#10;                                                                            &lt;div&#10;                                                                                className=&quot;flex flex-col items-center justify-center text-center gap-2&quot;&gt;&#10;                                                                                &lt;div&#10;                                                                                    className=&quot;p-3 bg-white dark:bg-gray-700 rounded-full shadow-sm text-gray-400 group-hover/upload:text-blue-500 transition-colors&quot;&gt;&#10;                                                                                    &lt;UploadCloud size={24}/&gt;&#10;                                                                                &lt;/div&gt;&#10;                                                                                &lt;div&gt;&#10;                                                                                    &lt;p className=&quot;text-sm font-medium text-gray-600 dark:text-gray-300 group-hover/upload:text-blue-700&quot;&gt;&#10;                                                                                        {task.id === '1-2' ? 'Upload CV - AI sẽ tự động scan' : 'Upload file'}&#10;                                                                                    &lt;/p&gt;&#10;                                                                                    &lt;p className=&quot;text-xs text-gray-400 mt-1&quot;&gt;PDF,&#10;                                                                                        DOCX, TXT lên tới 10MB&lt;/p&gt;&#10;                                                                                &lt;/div&gt;&#10;                                                                            &lt;/div&gt;&#10;                                                                        &lt;/label&gt;&#10;                                                                    )}&#10;                                                                    {cvScanError &amp;&amp; (&#10;                                                                        &lt;div&#10;                                                                            className=&quot;mt-3 p-3 bg-red-50 border border-red-200 rounded-lg&quot;&gt;&#10;                                                                            &lt;p className=&quot;text-xs text-red-700&quot;&gt;{cvScanError}&lt;/p&gt;&#10;                                                                        &lt;/div&gt;&#10;                                                                    )}&#10;                                                                &lt;/div&gt;&#10;                                                            )}&#10;&#10;                                                            {task.category === 'Tài liệu cần thiết' &amp;&amp; task.feedback &amp;&amp; (&#10;                                                                &lt;div className=&quot;mt-2&quot;&gt;&#10;                                                                    &lt;div className=&quot;flex items-center gap-2 mb-2&quot;&gt;&#10;                                                                        &lt;MessageSquare size={16}&#10;                                                                                       className=&quot;text-orange-500&quot;/&gt;&#10;                                                                        &lt;span&#10;                                                                            className=&quot;text-sm font-bold text-gray-700 dark:text-gray-300&quot;&gt;Nhận xét từ người hướng dẫn&lt;/span&gt;&#10;                                                                    &lt;/div&gt;&#10;                                                                    &lt;div&#10;                                                                        className=&quot;bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-100 dark:border-yellow-800 rounded-xl p-4 relative&quot;&gt;&#10;                                                                        &lt;div&#10;                                                                            className=&quot;text-sm text-gray-800 dark:text-gray-200 leading-relaxed&quot;&gt;&#10;                                                                            {task.feedback}&#10;                                                                        &lt;/div&gt;&#10;                                                                    &lt;/div&gt;&#10;                                                                &lt;/div&gt;&#10;                                                            )}&#10;                                                        &lt;/div&gt;&#10;                                                    &lt;/div&gt;&#10;                                                &lt;/div&gt;&#10;                                            );&#10;                                        })}&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            ))}&#10;&#10;                            {currentStageTasks.length === 0 &amp;&amp; (&#10;                                &lt;div className=&quot;text-center py-12&quot;&gt;&#10;                                    &lt;p className=&quot;text-gray-400&quot;&gt;Không có công việc nào trong giai đoạn này.&lt;/p&gt;&#10;                                &lt;/div&gt;&#10;                            )}&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-6&quot;&gt;&#10;                        {activeStageId === 1 &amp;&amp; (&#10;                            &lt;div&#10;                                className=&quot;bg-gradient-to-br from-purple-50 via-blue-50 to-white dark:from-purple-900/20 dark:via-blue-900/20 dark:to-gray-800 p-6 rounded-xl border-2 border-purple-200 dark:border-purple-700 shadow-lg&quot;&gt;&#10;                                &lt;div className=&quot;flex items-start gap-3&quot;&gt;&#10;                                    &lt;div&#10;                                        className=&quot;p-2 bg-gradient-to-br from-purple-500 to-blue-500 rounded-lg text-white&quot;&gt;&#10;                                        &lt;Sparkles size={20}/&gt;&#10;                                    &lt;/div&gt;&#10;                                    &lt;div&gt;&#10;                                        &lt;h4 className=&quot;text-base font-bold text-gray-900 dark:text-white mb-2&quot;&gt;✨ AI CV&#10;                                            Scanning&lt;/h4&gt;&#10;                                        &lt;p className=&quot;text-sm text-gray-700 dark:text-gray-300 leading-relaxed mb-3&quot;&gt;&#10;                                            Upload CV của bạn và để AI tự động trích xuất &lt;span&#10;                                            className=&quot;font-bold&quot;&gt;tất cả thông tin&lt;/span&gt;:&#10;                                        &lt;/p&gt;&#10;                                        &lt;ul className=&quot;text-xs text-gray-600 dark:text-gray-400 space-y-1.5&quot;&gt;&#10;                                            &lt;li className=&quot;flex items-start gap-2&quot;&gt;&#10;                                                &lt;span className=&quot;text-purple-500 mt-0.5&quot;&gt;✓&lt;/span&gt;&#10;                                                &lt;span&gt;Thông tin cá nhân (tên, email, số điện thoại, địa chỉ)&lt;/span&gt;&#10;                                            &lt;/li&gt;&#10;                                            &lt;li className=&quot;flex items-start gap-2&quot;&gt;&#10;                                                &lt;span className=&quot;text-purple-500 mt-0.5&quot;&gt;✓&lt;/span&gt;&#10;                                                &lt;span&gt;Học vấn (GPA, trình độ tiếng Anh, SAT)&lt;/span&gt;&#10;                                            &lt;/li&gt;&#10;                                            &lt;li className=&quot;flex items-start gap-2&quot;&gt;&#10;                                                &lt;span className=&quot;text-purple-500 mt-0.5&quot;&gt;✓&lt;/span&gt;&#10;                                                &lt;span&gt;Hoạt động ngoại khóa và vai trò&lt;/span&gt;&#10;                                            &lt;/li&gt;&#10;                                            &lt;li className=&quot;flex items-start gap-2&quot;&gt;&#10;                                                &lt;span className=&quot;text-purple-500 mt-0.5&quot;&gt;✓&lt;/span&gt;&#10;                                                &lt;span&gt;Thành tích và giải thưởng&lt;/span&gt;&#10;                                            &lt;/li&gt;&#10;                                        &lt;/ul&gt;&#10;                                        &lt;div&#10;                                            className=&quot;mt-4 p-3 bg-white dark:bg-gray-700 rounded-lg border border-purple-100 dark:border-purple-800&quot;&gt;&#10;                                            &lt;p className=&quot;text-xs text-purple-700 dark:text-purple-300 font-semibold&quot;&gt;&#10;                                                 Tiết kiệm thời gian: Không cần nhập thủ công!&#10;                                            &lt;/p&gt;&#10;                                        &lt;/div&gt;&#10;                                    &lt;/div&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        )}&#10;&#10;                        &lt;div&#10;                            className=&quot;bg-gradient-to-br from-blue-50 to-white dark:from-blue-900/20 dark:to-gray-800 p-5 rounded-xl border border-blue-100 dark:border-blue-800&quot;&gt;&#10;                            &lt;div className=&quot;flex items-start gap-3&quot;&gt;&#10;                                &lt;div className=&quot;p-2 bg-blue-100 dark:bg-blue-900 rounded-lg text-blue-600&quot;&gt;&#10;                                    &lt;Flag size={20}/&gt;&#10;                                &lt;/div&gt;&#10;                                &lt;div&gt;&#10;                                    &lt;h4 className=&quot;font-bold text-blue-900 dark:text-blue-300 text-sm mb-1&quot;&gt;Lời&#10;                                        khuyên Giai đoạn {activeStageId}&lt;/h4&gt;&#10;                                    &lt;p className=&quot;text-sm text-blue-800/80 dark:text-blue-200/80 leading-relaxed&quot;&gt;&#10;                                        {activeStageId === 1 &amp;&amp; &quot;Đây là giai đoạn nền tảng. Hãy dành thời gian hiểu rõ bản thân và tìm hiểu kỹ về các trường đại học mục tiêu.&quot;}&#10;                                        {activeStageId === 2 &amp;&amp; &quot;Chất lượng hơn số lượng. Tập trung vào bài luận cá nhân và các hoạt động ngoại khóa có chiều sâu lãnh đạo.&quot;}&#10;                                        {activeStageId === 3 &amp;&amp; &quot;Kiểm tra kỹ hạn visa và yêu cầu nhập cảnh. Đừng quên mang theo bản sao các giấy tờ quan trọng.&quot;}&#10;                                    &lt;/p&gt;&#10;                                &lt;/div&gt;&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;                &lt;/div&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;&#10;export default ChecklistPage;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/dashboard/checklist/StageNavigation.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/dashboard/checklist/StageNavigation.tsx" />
              <option name="originalContent" value="import React from 'react';&#10;import {CheckCircle2, Lock, Circle} from 'lucide-react';&#10;import {Stage} from '../types';&#10;&#10;interface StageNavigationProps {&#10;    stages: Stage[];&#10;    currentStageId: number;&#10;    onSelectStage: (id: number) =&gt; void;&#10;    completedStages: number[];&#10;}&#10;&#10;const StageNavigation: React.FC&lt;StageNavigationProps&gt; = ({stages, currentStageId, onSelectStage, completedStages}) =&gt; {&#10;    return (&#10;        &lt;div className=&quot;bg-white rounded-xl shadow-sm border border-gray-100 p-6 h-fit sticky top-6&quot;&gt;&#10;            &lt;h3 className=&quot;text-lg font-bold text-gray-800 mb-6 uppercase tracking-wide&quot;&gt;Lộ trình hồ sơ&lt;/h3&gt;&#10;            &lt;div className=&quot;space-y-0 relative&quot;&gt;&#10;                {/* Vertical Line */}&#10;                &lt;div className=&quot;absolute left-3.5 top-2 bottom-6 w-0.5 bg-gray-100 -z-10&quot;&gt;&lt;/div&gt;&#10;                {stages.map((stage) =&gt; {&#10;                    const isActive = stage.id === currentStageId;&#10;                    const isCompleted = completedStages.includes(stage.id);&#10;                    const isLocked = !stage.isUnlocked;&#10;                    let Icon = Circle;&#10;                    let colorClass = &quot;text-gray-300 border-gray-300 bg-white&quot;;&#10;                    let textClass = &quot;text-gray-500&quot;;&#10;                    if (isCompleted) {&#10;                        Icon = CheckCircle2;&#10;                        colorClass = &quot;text-green-500 border-green-500 bg-green-50&quot;;&#10;                        textClass = &quot;text-gray-700 font-medium&quot;;&#10;                    } else if (isActive) {&#10;                        Icon = Circle; // Using Dot indicator for active&#10;                        colorClass = &quot;text-blue-600 border-blue-600 bg-blue-50 ring-4 ring-blue-50&quot;;&#10;                        textClass = &quot;text-blue-700 font-bold&quot;;&#10;                    } else if (isLocked) {&#10;                        Icon = Lock;&#10;                        colorClass = &quot;text-gray-400 border-gray-200 bg-gray-50&quot;;&#10;                        textClass = &quot;text-gray-400&quot;;&#10;                    } else {&#10;                        // Unlocked but not active or completed (rare case in this linear flow but good to handle)&#10;                        textClass = &quot;text-gray-600 hover:text-blue-600&quot;;&#10;                    }&#10;                    return (&#10;                        &lt;div&#10;                            key={stage.id}&#10;                            className={`flex items-start gap-4 pb-8 last:pb-0 group ${!isLocked ? 'cursor-pointer' : 'cursor-not-allowed'}`}&#10;                            onClick={() =&gt; !isLocked &amp;&amp; onSelectStage(stage.id)}&#10;                        &gt;&#10;                            &lt;div&#10;                                className={`relative z-10 flex items-center justify-center w-8 h-8 rounded-full border-2 ${colorClass} transition-colors`}&gt;&#10;                                {isActive &amp;&amp; !isCompleted ? (&#10;                                    &lt;div className=&quot;w-2.5 h-2.5 bg-blue-600 rounded-full&quot;&gt;&lt;/div&gt;&#10;                                ) : (&#10;                                    &lt;Icon size={isLocked ? 14 : 16}/&gt;&#10;                                )}&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;pt-1&quot;&gt;&#10;                                &lt;h4 className={`text-sm ${textClass} transition-colors`}&gt;&#10;                                    Giai đoạn {stage.id}&#10;                                &lt;/h4&gt;&#10;                                &lt;p className={`text-base ${isActive ? 'text-gray-900 font-bold' : 'text-gray-500 font-medium'}`}&gt;&#10;                                    {stage.name}&#10;                                &lt;/p&gt;&#10;                                {isActive &amp;&amp; (&#10;                                    &lt;p className=&quot;text-xs text-gray-500 mt-1 max-w-[200px] line-clamp-2&quot;&gt;&#10;                                        {stage.description}&#10;                                    &lt;/p&gt;&#10;                                )}&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    );&#10;                })}&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;export default StageNavigation;" />
              <option name="updatedContent" value="import React from 'react';&#10;import {CheckCircle2, Lock, Circle} from 'lucide-react';&#10;import {Stage} from '@/components/types';&#10;&#10;interface StageNavigationProps {&#10;    stages: Stage[];&#10;    currentStageId: number;&#10;    onSelectStage: (id: number) =&gt; void;&#10;    completedStages: number[];&#10;}&#10;&#10;const StageNavigation: React.FC&lt;StageNavigationProps&gt; = ({stages, currentStageId, onSelectStage, completedStages}) =&gt; {&#10;    return (&#10;        &lt;div className=&quot;bg-white rounded-xl shadow-sm border border-gray-100 p-6 h-fit sticky top-6&quot;&gt;&#10;            &lt;h3 className=&quot;text-lg font-bold text-gray-800 mb-6 uppercase tracking-wide&quot;&gt;Lộ trình hồ sơ&lt;/h3&gt;&#10;            &lt;div className=&quot;space-y-0 relative&quot;&gt;&#10;                {/* Vertical Line */}&#10;                &lt;div className=&quot;absolute left-3.5 top-2 bottom-6 w-0.5 bg-gray-100 -z-10&quot;&gt;&lt;/div&gt;&#10;                {stages.map((stage) =&gt; {&#10;                    const isActive = stage.id === currentStageId;&#10;                    const isCompleted = completedStages.includes(stage.id);&#10;                    const isLocked = !stage.isUnlocked;&#10;                    let Icon = Circle;&#10;                    let colorClass = &quot;text-gray-300 border-gray-300 bg-white&quot;;&#10;                    let textClass: string;&#10;                    if (isCompleted) {&#10;                        Icon = CheckCircle2;&#10;                        colorClass = &quot;text-green-500 border-green-500 bg-green-50&quot;;&#10;                        textClass = &quot;text-gray-700 font-medium&quot;;&#10;                    } else if (isActive) {&#10;                        Icon = Circle; // Using Dot indicator for active&#10;                        colorClass = &quot;text-blue-600 border-blue-600 bg-blue-50 ring-4 ring-blue-50&quot;;&#10;                        textClass = &quot;text-blue-700 font-bold&quot;;&#10;                    } else if (isLocked) {&#10;                        Icon = Lock;&#10;                        colorClass = &quot;text-gray-400 border-gray-200 bg-gray-50&quot;;&#10;                        textClass = &quot;text-gray-400&quot;;&#10;                    } else {&#10;                        // Unlocked but not active or completed (rare case in this linear flow but good to handle)&#10;                        textClass = &quot;text-gray-600 hover:text-blue-600&quot;;&#10;                    }&#10;                    return (&#10;                        &lt;div&#10;                            key={stage.id}&#10;                            className={`flex items-start gap-4 pb-8 last:pb-0 group ${!isLocked ? 'cursor-pointer' : 'cursor-not-allowed'}`}&#10;                            onClick={() =&gt; !isLocked &amp;&amp; onSelectStage(stage.id)}&#10;                        &gt;&#10;                            &lt;div&#10;                                className={`relative z-10 flex items-center justify-center w-8 h-8 rounded-full border-2 ${colorClass} transition-colors`}&gt;&#10;                                {isActive &amp;&amp; !isCompleted ? (&#10;                                    &lt;div className=&quot;w-2.5 h-2.5 bg-blue-600 rounded-full&quot;&gt;&lt;/div&gt;&#10;                                ) : (&#10;                                    &lt;Icon size={isLocked ? 14 : 16}/&gt;&#10;                                )}&#10;                            &lt;/div&gt;&#10;                            &lt;div className=&quot;pt-1&quot;&gt;&#10;                                &lt;h4 className={`text-sm ${textClass} transition-colors`}&gt;&#10;                                    Giai đoạn {stage.id}&#10;                                &lt;/h4&gt;&#10;                                &lt;p className={`text-base ${isActive ? 'text-gray-900 font-bold' : 'text-gray-500 font-medium'}`}&gt;&#10;                                    {stage.name}&#10;                                &lt;/p&gt;&#10;                                {isActive &amp;&amp; (&#10;                                    &lt;p className=&quot;text-xs text-gray-500 mt-1 max-w-[200px] line-clamp-2&quot;&gt;&#10;                                        {stage.description}&#10;                                    &lt;/p&gt;&#10;                                )}&#10;                            &lt;/div&gt;&#10;                        &lt;/div&gt;&#10;                    );&#10;                })}&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;    );&#10;};&#10;export default StageNavigation;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/components/types.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/components/types.ts" />
              <option name="originalContent" value="export type DocumentType = 'transcript' | 'certificate' | 'letter' | 'essay' | 'other';&#10;&#10;export interface Extracurricular {&#10;    id: string;&#10;    title: string;&#10;    role: string;&#10;    year: string;&#10;    description: string;&#10;}&#10;&#10;export interface Document {&#10;    id: string;&#10;    name: string;&#10;    type: DocumentType;&#10;    uploadDate: string;&#10;    size: string;&#10;}&#10;&#10;export interface StudentProfile {&#10;    id: string;&#10;    name: string;&#10;    email: string;&#10;    phone: string;&#10;    address: string;&#10;    dob: string;&#10;    avatarUrl: string;&#10;    gpa: number;&#10;    gpaScale: number;&#10;    englishLevel: string;&#10;    satScore?: number;&#10;    targetMajor: string;&#10;    targetCountry: string;&#10;    extracurriculars: Extracurricular[];&#10;    achievements: string[];&#10;    documents: Document[];&#10;}&#10;&#10;export interface SwotItem {&#10;    id: string;&#10;    text: string;&#10;    category: 'strength' | 'weakness' | 'opportunity' | 'threat';&#10;}&#10;&#10;export interface StrategyItem {&#10;    title: string;&#10;    description: string;&#10;}&#10;&#10;export interface SwotData {&#10;    strengths: string[];&#10;    weaknesses: string[];&#10;    opportunities: string[];&#10;    threats: string[];&#10;    strategicAdvice: StrategyItem[];&#10;    scores: {&#10;        academic: number;&#10;        extracurricular: number;&#10;        skills: number;&#10;        language: number;&#10;        leadership: number;&#10;    }&#10;}&#10;&#10;export interface Task {&#10;    id: string;&#10;    title: string;&#10;    deadline: string;&#10;    isCompleted: boolean;&#10;    category?: string; // e.g., &quot;Hồ sơ học thuật&quot;, &quot;Tài liệu cần thiết&quot;&#10;    stageId: number;&#10;&#10;    // New fields for file upload feature&#10;    requiresFile?: boolean;    // Does this task require a file upload?&#10;    uploadedFile?: string;     // Name of the uploaded file (if any)&#10;    feedback?: string;         // Mentor feedback&#10;}&#10;&#10;export interface Stage {&#10;    id: number;&#10;    name: string;&#10;    description: string;&#10;    isUnlocked: boolean;&#10;}&#10;&#10;export type TestType = 'MBTI' | 'GRIT' | 'RIASEC';&#10;&#10;export interface Question {&#10;    id: number;&#10;    text: string;&#10;    type: TestType;&#10;    // For MBTI&#10;    optionA?: string;&#10;    optionB?: string;&#10;    dimension?: string; // E.g., 'EI', 'SN', 'TF', 'JP'&#10;&#10;    // For RIASEC&#10;    category?: string; // R, I, A, S, E, C&#10;&#10;    // For Grit&#10;    reverseScore?: boolean; // Some Grit questions are reverse coded&#10;}&#10;&#10;export interface StudentProfile {&#10;    name: string;&#10;    id: string;&#10;    avatar: string;&#10;    email: string;&#10;    phone: string;&#10;    dob: string;&#10;    location: string;&#10;    gpa: number;&#10;    ielts: number;&#10;    targetMajor: string;&#10;    awards: string[];&#10;}&#10;&#10;export interface TestResult {&#10;    type: TestType;&#10;    scores: Record&lt;string, number&gt;; // e.g. { 'R': 15, 'I': 20 } or { 'Grit': 4.5 }&#10;    rawLabel?: string; // e.g., &quot;ENTJ&quot; or &quot;High Grit&quot;&#10;    description?: string;&#10;}&#10;&#10;export interface UniversityRecommendation {&#10;    name: string;&#10;    location: string;&#10;    ranking: string;&#10;    matchReason: string;&#10;    suggestedMajors: string[];&#10;}&#10;&#10;" />
              <option name="updatedContent" value="export type DocumentType = 'transcript' | 'certificate' | 'letter' | 'essay' | 'other';&#10;&#10;export interface Extracurricular {&#10;    id: string;&#10;    title: string;&#10;    role: string;&#10;    year: string;&#10;    description: string;&#10;}&#10;&#10;export interface Document {&#10;    id: string;&#10;    name: string;&#10;    type: DocumentType;&#10;    uploadDate: string;&#10;    size: string;&#10;}&#10;&#10;export interface StudentProfile {&#10;    id: string;&#10;    name: string;&#10;    email: string;&#10;    phone: string;&#10;    address: string;&#10;    dob: string;&#10;    avatarUrl: string;&#10;    gpa: number;&#10;    gpaScale: number;&#10;    englishLevel: string;&#10;    satScore?: number;&#10;    targetMajor: string;&#10;    targetCountry: string;&#10;    extracurriculars: Extracurricular[];&#10;    achievements: string[];&#10;    documents: Document[];&#10;}&#10;&#10;export interface SwotItem {&#10;    id: string;&#10;    text: string;&#10;    category: 'strength' | 'weakness' | 'opportunity' | 'threat';&#10;}&#10;&#10;export interface StrategyItem {&#10;    title: string;&#10;    description: string;&#10;}&#10;&#10;export interface SwotData {&#10;    strengths: string[];&#10;    weaknesses: string[];&#10;    opportunities: string[];&#10;    threats: string[];&#10;    strategicAdvice: StrategyItem[];&#10;    scores: {&#10;        academic: number;&#10;        extracurricular: number;&#10;        skills: number;&#10;        language: number;&#10;        leadership: number;&#10;    }&#10;}&#10;&#10;export interface Task {&#10;    id: string;&#10;    title: string;&#10;    deadline: string;&#10;    isCompleted: boolean;&#10;    category?: string; // e.g., &quot;Hồ sơ học thuật&quot;, &quot;Tài liệu cần thiết&quot;&#10;    stageId: number;&#10;&#10;    // New fields for file upload feature&#10;    requiresFile?: boolean;    // Does this task require a file upload?&#10;    uploadedFile?: string;     // Name of the uploaded file (if any)&#10;    feedback?: string;         // Mentor feedback&#10;}&#10;&#10;export interface Stage {&#10;    id: number;&#10;    name: string;&#10;    description: string;&#10;    isUnlocked: boolean;&#10;}&#10;&#10;export type TestType = 'MBTI' | 'GRIT' | 'RIASEC';&#10;&#10;export interface Question {&#10;    id: number;&#10;    text: string;&#10;    type: TestType;&#10;    // For MBTI&#10;    optionA?: string;&#10;    optionB?: string;&#10;    dimension?: string; // E.g., 'EI', 'SN', 'TF', 'JP'&#10;&#10;    // For RIASEC&#10;    category?: string; // R, I, A, S, E, C&#10;&#10;    // For Grit&#10;    reverseScore?: boolean; // Some Grit questions are reverse coded&#10;}&#10;&#10;&#10;export interface TestResult {&#10;    type: TestType;&#10;    scores: Record&lt;string, number&gt;; // e.g. { 'R': 15, 'I': 20 } or { 'Grit': 4.5 }&#10;    rawLabel?: string; // e.g., &quot;ENTJ&quot; or &quot;High Grit&quot;&#10;    description?: string;&#10;}&#10;&#10;export interface MajorRecommendation {&#10;    name: string; // Tên ngành học&#10;    category: string; // Phân loại: STEM, Arts, Business, etc.&#10;    matchReason: string; // Lý do phù hợp với tính cách&#10;    careerPaths: string[]; // Các con đường sự nghiệp&#10;    requiredSkills: string[]; // Kỹ năng cần thiết&#10;    matchPercentage: number; // Độ phù hợp (0-100)&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/service/geminiService.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/service/geminiService.ts" />
              <option name="originalContent" value="import {GoogleGenAI, Type} from &quot;@google/genai&quot;;&#10;import {SwotData, StudentProfile} from &quot;../components/types&quot;;&#10;&#10;// Mock data to simulate the &quot;existing profile&quot; context mentioned by the user&#10;export const MOCK_STUDENT_PROFILE: StudentProfile = {&#10;    id: &quot;STU001&quot;,&#10;    name: &quot;Nguyễn Văn A&quot;,&#10;    email: &quot;nguyenvana@email.com&quot;,&#10;    phone: &quot;0123456789&quot;,&#10;    address: &quot;Hà Nội, Việt Nam&quot;,&#10;    dob: &quot;2004-01-15&quot;,&#10;    avatarUrl: &quot;https://api.dicebear.com/9.x/notionists/svg?seed=Felix&quot;,&#10;    gpa: 3.8,&#10;    gpaScale: 4.0,&#10;    englishLevel: &quot;IELTS 7.5&quot;,&#10;    targetMajor: &quot;Computer Science&quot;,&#10;    targetCountry: &quot;Canada&quot;,&#10;    extracurriculars: [&#10;        {&#10;            id: &quot;1&quot;,&#10;            title: &quot;Chủ tịch Câu lạc bộ Lập trình&quot;,&#10;            role: &quot;Chủ tịch&quot;,&#10;            year: &quot;2024&quot;,&#10;            description: &quot;Quản lý 50+ thành viên, tổ chức workshop và hackathon&quot;&#10;        }&#10;    ],&#10;    achievements: [&#10;        &quot;Huy chương Vàng Toán học Quốc tế&quot;,&#10;        &quot;Giải Nhất Hackathon 2024&quot;&#10;    ],&#10;    documents: []&#10;};&#10;&#10;export const generateSwotAnalysis = async (profile: StudentProfile): Promise&lt;SwotData&gt; =&gt; {&#10;    // Check for API key strictly as per guidelines&#10;    const apiKey = process.env.API_KEY;&#10;    if (!apiKey) {&#10;        throw new Error(&quot;API Key is missing. Please provide a valid API_KEY in the environment.&quot;);&#10;    }&#10;&#10;    const ai = new GoogleGenAI({apiKey});&#10;&#10;    const prompt = `&#10;    Phân tích hồ sơ học sinh sau đây cho mục tiêu du học (Ngành: ${profile.targetMajor} tại ${profile.targetCountry}).&#10;    &#10;    Thông tin hồ sơ:&#10;    - GPA: ${profile.gpa}/${profile.gpaScale}&#10;    - Trình độ Tiếng Anh: ${profile.englishLevel}&#10;    - Các hoạt động ngoại khóa: ${profile.extracurriculars.map(e =&gt; e.title).join(&quot;, &quot;)}&#10;    - Các thành tích: ${profile.achievements.join(&quot;, &quot;)}&#10;&#10;    Hãy tạo một bản phân tích SWOT chi tiết và đưa ra lời khuyên chiến lược cụ thể bằng TIẾNG VIỆT.&#10;    Đồng thời đánh giá điểm số (thang 1-100) cho 5 khía cạnh: học thuật, ngoại khóa, kỹ năng mềm, ngoại ngữ, và khả năng lãnh đạo dựa trên hồ sơ này.&#10;  `;&#10;&#10;    const response = await ai.models.generateContent({&#10;        model: &quot;gemini-2.5-flash&quot;,&#10;        contents: prompt,&#10;        config: {&#10;            responseMimeType: &quot;application/json&quot;,&#10;            responseSchema: {&#10;                type: Type.OBJECT,&#10;                properties: {&#10;                    strengths: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Danh sách 3-5 điểm mạnh nội tại nổi bật (Tiếng Việt).&quot;&#10;                    },&#10;                    weaknesses: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Danh sách 3-5 điểm yếu hoặc lĩnh vực cần cải thiện (Tiếng Việt).&quot;&#10;                    },&#10;                    opportunities: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Các cơ hội bên ngoài phù hợp với ngành học và quốc gia mục tiêu (Tiếng Việt).&quot;&#10;                    },&#10;                    threats: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Các thách thức bên ngoài như cạnh tranh, visa, văn hóa (Tiếng Việt).&quot;&#10;                    },&#10;                    strategicAdvice: {&#10;                        type: Type.ARRAY,&#10;                        items: {&#10;                            type: Type.OBJECT,&#10;                            properties: {&#10;                                title: {type: Type.STRING, description: &quot;Tiêu đề chiến lược ngắn gọn (Tiếng Việt)&quot;},&#10;                                description: {&#10;                                    type: Type.STRING,&#10;                                    description: &quot;Mô tả chi tiết hành động cần làm (Tiếng Việt)&quot;&#10;                                }&#10;                            }&#10;                        },&#10;                        description: &quot;3 bước chiến lược hành động cụ thể.&quot;&#10;                    },&#10;                    scores: {&#10;                        type: Type.OBJECT,&#10;                        properties: {&#10;                            academic: {type: Type.INTEGER},&#10;                            extracurricular: {type: Type.INTEGER},&#10;                            skills: {type: Type.INTEGER},&#10;                            language: {type: Type.INTEGER},&#10;                            leadership: {type: Type.INTEGER}&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    });&#10;&#10;    if (response.text) {&#10;        return JSON.parse(response.text) as SwotData;&#10;    }&#10;&#10;    throw new Error(&quot;Failed to generate analysis.&quot;);&#10;};&#10;&#10;import {GoogleGenAI, Type} from &quot;@google/genai&quot;;&#10;import {StudentProfile, TestResult, UniversityRecommendation} from &quot;../types&quot;;&#10;&#10;// Initialize Gemini Client&#10;const ai = new GoogleGenAI({apiKey: process.env.API_KEY});&#10;&#10;export const getUniversityRecommendations = async (&#10;    profile: StudentProfile,&#10;    testResult: TestResult&#10;): Promise&lt;UniversityRecommendation[]&gt; =&gt; {&#10;&#10;    const model = &quot;gemini-2.5-flash&quot;;&#10;&#10;    // Construct a prompt context&#10;    const context = `&#10;    You are an expert educational counselor for international students.&#10;    &#10;    Student Profile:&#10;    - Name: ${profile.name}&#10;    - GPA: ${profile.gpa}/4.0&#10;    - IELTS: ${profile.ielts}&#10;    - Target Major: ${profile.targetMajor}&#10;    - Awards: ${profile.awards.join(&quot;, &quot;)}&#10;    &#10;    Personality Test Result (${testResult.type}):&#10;    - Label/Type: ${testResult.rawLabel || &quot;N/A&quot;}&#10;    - Scores: ${JSON.stringify(testResult.scores)}&#10;    - Description: ${testResult.description || &quot;N/A&quot;}&#10;    &#10;    Task:&#10;    Based on the student's academic profile AND their personality test results, recommend 3 specific international universities (focus on US, UK, Canada, Australia) that would be a great fit.&#10;    Explain WHY based on their personality (e.g., if they are introverted/Research-focused, suggest research universities. If they are Social/Extroverted, suggest schools with vibrant campus life).&#10;  `;&#10;&#10;    try {&#10;        const response = await ai.models.generateContent({&#10;            model: model,&#10;            contents: context,&#10;            config: {&#10;                responseMimeType: &quot;application/json&quot;,&#10;                responseSchema: {&#10;                    type: Type.ARRAY,&#10;                    items: {&#10;                        type: Type.OBJECT,&#10;                        properties: {&#10;                            name: {type: Type.STRING},&#10;                            location: {type: Type.STRING},&#10;                            ranking: {type: Type.STRING},&#10;                            matchReason: {type: Type.STRING},&#10;                            suggestedMajors: {type: Type.ARRAY, items: {type: Type.STRING}}&#10;                        },&#10;                        required: [&quot;name&quot;, &quot;location&quot;, &quot;matchReason&quot;, &quot;suggestedMajors&quot;]&#10;                    }&#10;                }&#10;            }&#10;        });&#10;&#10;        const jsonText = response.text || &quot;[]&quot;;&#10;        return JSON.parse(jsonText) as UniversityRecommendation[];&#10;&#10;    } catch (error) {&#10;        console.error(&quot;Error fetching recommendations from Gemini:&quot;, error);&#10;        return [];&#10;    }&#10;};&#10;&#10;" />
              <option name="updatedContent" value="import {GoogleGenAI, Type} from &quot;@google/genai&quot;;&#10;import {SwotData, StudentProfile, TestResult, MajorRecommendation} from &quot;../components/types&quot;;&#10;&#10;// Mock data to simulate the &quot;existing profile&quot; context mentioned by the user&#10;export const MOCK_STUDENT_PROFILE: StudentProfile = {&#10;    id: &quot;STU001&quot;,&#10;    name: &quot;Nguyễn Văn A&quot;,&#10;    email: &quot;nguyenvana@email.com&quot;,&#10;    phone: &quot;0123456789&quot;,&#10;    address: &quot;Hà Nội, Việt Nam&quot;,&#10;    dob: &quot;2004-01-15&quot;,&#10;    avatarUrl: &quot;https://api.dicebear.com/9.x/notionists/svg?seed=Felix&quot;,&#10;    gpa: 3.8,&#10;    gpaScale: 4.0,&#10;    englishLevel: &quot;IELTS 7.5&quot;,&#10;    targetMajor: &quot;Computer Science&quot;,&#10;    targetCountry: &quot;Canada&quot;,&#10;    extracurriculars: [&#10;        {&#10;            id: &quot;1&quot;,&#10;            title: &quot;Chủ tịch Câu lạc bộ Lập trình&quot;,&#10;            role: &quot;Chủ tịch&quot;,&#10;            year: &quot;2024&quot;,&#10;            description: &quot;Quản lý 50+ thành viên, tổ chức workshop và hackathon&quot;&#10;        }&#10;    ],&#10;    achievements: [&#10;        &quot;Huy chương Vàng Toán học Quốc tế&quot;,&#10;        &quot;Giải Nhất Hackathon 2024&quot;&#10;    ],&#10;    documents: []&#10;};&#10;&#10;export const generateSwotAnalysis = async (profile: StudentProfile): Promise&lt;SwotData&gt; =&gt; {&#10;    // Check for API key strictly as per guidelines&#10;    const apiKey = process.env.NEXT_PUBLIC_API_KEY;&#10;    if (!apiKey) {&#10;        throw new Error(&quot;API Key is missing. Please provide a valid NEXT_PUBLIC_API_KEY in the environment.&quot;);&#10;    }&#10;&#10;    const ai = new GoogleGenAI({apiKey});&#10;&#10;    const prompt = `&#10;    Phân tích hồ sơ học sinh sau đây cho mục tiêu du học (Ngành: ${profile.targetMajor} tại ${profile.targetCountry}).&#10;    &#10;    Thông tin hồ sơ:&#10;    - GPA: ${profile.gpa}/${profile.gpaScale}&#10;    - Trình độ Tiếng Anh: ${profile.englishLevel}&#10;    - Các hoạt động ngoại khóa: ${profile.extracurriculars.map(e =&gt; e.title).join(&quot;, &quot;)}&#10;    - Các thành tích: ${profile.achievements.join(&quot;, &quot;)}&#10;&#10;    Hãy tạo một bản phân tích SWOT chi tiết và đưa ra lời khuyên chiến lược cụ thể bằng TIẾNG VIỆT.&#10;    Đồng thời đánh giá điểm số (thang 1-100) cho 5 khía cạnh: học thuật, ngoại khóa, kỹ năng mềm, ngoại ngữ, và khả năng lãnh đạo dựa trên hồ sơ này.&#10;  `;&#10;&#10;    const response = await ai.models.generateContent({&#10;        model: &quot;gemini-2.5-flash&quot;,&#10;        contents: prompt,&#10;        config: {&#10;            responseMimeType: &quot;application/json&quot;,&#10;            responseSchema: {&#10;                type: Type.OBJECT,&#10;                properties: {&#10;                    strengths: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Danh sách 3-5 điểm mạnh nội tại nổi bật (Tiếng Việt).&quot;&#10;                    },&#10;                    weaknesses: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Danh sách 3-5 điểm yếu hoặc lĩnh vực cần cải thiện (Tiếng Việt).&quot;&#10;                    },&#10;                    opportunities: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Các cơ hội bên ngoài phù hợp với ngành học và quốc gia mục tiêu (Tiếng Việt).&quot;&#10;                    },&#10;                    threats: {&#10;                        type: Type.ARRAY,&#10;                        items: {type: Type.STRING},&#10;                        description: &quot;Các thách thức bên ngoài như cạnh tranh, visa, văn hóa (Tiếng Việt).&quot;&#10;                    },&#10;                    strategicAdvice: {&#10;                        type: Type.ARRAY,&#10;                        items: {&#10;                            type: Type.OBJECT,&#10;                            properties: {&#10;                                title: {type: Type.STRING, description: &quot;Tiêu đề chiến lược ngắn gọn (Tiếng Việt)&quot;},&#10;                                description: {&#10;                                    type: Type.STRING,&#10;                                    description: &quot;Mô tả chi tiết hành động cần làm (Tiếng Việt)&quot;&#10;                                }&#10;                            }&#10;                        },&#10;                        description: &quot;3 bước chiến lược hành động cụ thể.&quot;&#10;                    },&#10;                    scores: {&#10;                        type: Type.OBJECT,&#10;                        properties: {&#10;                            academic: {type: Type.INTEGER},&#10;                            extracurricular: {type: Type.INTEGER},&#10;                            skills: {type: Type.INTEGER},&#10;                            language: {type: Type.INTEGER},&#10;                            leadership: {type: Type.INTEGER}&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    });&#10;&#10;    if (response.text) {&#10;        return JSON.parse(response.text) as SwotData;&#10;    }&#10;&#10;    throw new Error(&quot;Failed to generate analysis.&quot;);&#10;};&#10;&#10;// Major recommendations function - based purely on personality test results&#10;export const getMajorRecommendations = async (&#10;    testResult: TestResult&#10;): Promise&lt;MajorRecommendation[]&gt; =&gt; {&#10;    // Check for API key&#10;    const apiKey = process.env.NEXT_PUBLIC_API_KEY;&#10;    if (!apiKey) {&#10;        throw new Error(&quot;API Key is missing. Please provide a valid NEXT_PUBLIC_API_KEY in the environment.&quot;);&#10;    }&#10;&#10;    const ai = new GoogleGenAI({apiKey});&#10;    const model = &quot;gemini-2.5-flash&quot;;&#10;&#10;    // Construct a prompt context focused on personality-major matching&#10;    const context = `&#10;    Bạn là chuyên gia tư vấn định hướng nghề nghiệp chuyên nghiệp.&#10;    &#10;    Kết quả kiểm tra tính cách của học sinh:&#10;    - Loại test: ${testResult.type}&#10;    - Kết quả: ${testResult.rawLabel || &quot;N/A&quot;}&#10;    - Điểm số chi tiết: ${JSON.stringify(testResult.scores)}&#10;    - Mô tả: ${testResult.description || &quot;N/A&quot;}&#10;    &#10;    Nhiệm vụ:&#10;    Dựa HOÀN TOÀN vào kết quả test tính cách này, hãy đề xuất 5 ngành học phù hợp nhất.&#10;    &#10;    Yêu cầu:&#10;    - KHÔNG phụ thuộc vào ngành học hay quốc gia mong muốn trước đó&#10;    - Phân tích sâu về tính cách và đưa ra lý do cụ thể tại sao ngành học phù hợp&#10;    - Đề xuất các con đường sự nghiệp cụ thể&#10;    - Liệt kê kỹ năng cần thiết&#10;    - Đánh giá độ phù hợp (%)&#10;    - Trả lời bằng TIẾNG VIỆT&#10;    &#10;    Ví dụ phân tích:&#10;    - Với MBTI INTJ: Phù hợp với Computer Science vì thích hệ thống, logic, giải quyết vấn đề phức tạp&#10;    - Với RIASEC cao về I (Investigative): Phù hợp với nghiên cứu khoa học, phân tích dữ liệu&#10;    - Với Grit cao: Phù hợp với các ngành đòi hỏi kiên trì như Y khoa, Luật, Nghiên cứu&#10;  `;&#10;&#10;    try {&#10;        const response = await ai.models.generateContent({&#10;            model: model,&#10;            contents: context,&#10;            config: {&#10;                responseMimeType: &quot;application/json&quot;,&#10;                responseSchema: {&#10;                    type: Type.ARRAY,&#10;                    items: {&#10;                        type: Type.OBJECT,&#10;                        properties: {&#10;                            name: {&#10;                                type: Type.STRING,&#10;                                description: &quot;Tên ngành học bằng tiếng Việt&quot;&#10;                            },&#10;                            category: {&#10;                                type: Type.STRING,&#10;                                description: &quot;Phân loại: STEM, Nghệ thuật, Kinh doanh, Nhân văn, Khoa học xã hội, v.v.&quot;&#10;                            },&#10;                            matchReason: {&#10;                                type: Type.STRING,&#10;                                description: &quot;Lý do cụ thể tại sao ngành này phù hợp với tính cách (150-200 từ)&quot;&#10;                            },&#10;                            careerPaths: {&#10;                                type: Type.ARRAY,&#10;                                items: {type: Type.STRING},&#10;                                description: &quot;3-5 con đường sự nghiệp cụ thể&quot;&#10;                            },&#10;                            requiredSkills: {&#10;                                type: Type.ARRAY,&#10;                                items: {type: Type.STRING},&#10;                                description: &quot;4-6 kỹ năng quan trọng cần có&quot;&#10;                            },&#10;                            matchPercentage: {&#10;                                type: Type.INTEGER,&#10;                                description: &quot;Độ phù hợp từ 0-100&quot;&#10;                            }&#10;                        },&#10;                        required: [&quot;name&quot;, &quot;category&quot;, &quot;matchReason&quot;, &quot;careerPaths&quot;, &quot;requiredSkills&quot;, &quot;matchPercentage&quot;]&#10;                    }&#10;                }&#10;            }&#10;        });&#10;&#10;        const jsonText = response.text || &quot;[]&quot;;&#10;        const recommendations = JSON.parse(jsonText) as MajorRecommendation[];&#10;&#10;        // Sort by matchPercentage descending&#10;        return recommendations.sort((a, b) =&gt; b.matchPercentage - a.matchPercentage);&#10;&#10;    } catch (error) {&#10;        console.error(&quot;Error fetching major recommendations from Gemini:&quot;, error);&#10;        return [];&#10;    }&#10;};&#10;&#10;// CV Scanning with AI&#10;export const scanCVWithAI = async (cvText: string): Promise&lt;StudentProfile | null&gt; =&gt; {&#10;    // Check for API key&#10;    const apiKey = process.env.NEXT_PUBLIC_API_KEY;&#10;    if (!apiKey) {&#10;        throw new Error(&quot;API Key is missing. Please provide a valid NEXT_PUBLIC_API_KEY in the environment.&quot;);&#10;    }&#10;&#10;    const ai = new GoogleGenAI({apiKey});&#10;    const model = &quot;gemini-2.5-flash&quot;;&#10;&#10;    const context = `&#10;    Bạn là một AI chuyên trích xuất thông tin từ CV/Resume.&#10;    &#10;    Nội dung CV:&#10;    ${cvText}&#10;    &#10;    Nhiệm vụ:&#10;    Hãy phân tích và trích xuất TẤT CẢ thông tin có trong CV để tạo profile hoàn chỉnh.&#10;    &#10;    Yêu cầu:&#10;    - Trích xuất chính xác thông tin cá nhân, học vấn, kinh nghiệm, kỹ năng&#10;    - Tự động điền thông tin còn thiếu bằng giá trị hợp lý&#10;    - Tạo ID ngẫu nhiên&#10;    - Phân tích và tạo danh sách extracurriculars từ kinh nghiệm/hoạt động&#10;    - Trích xuất achievements từ giải thưởng, chứng chỉ&#10;    - Trả về JSON đầy đủ theo schema&#10;  `;&#10;&#10;    try {&#10;        const response = await ai.models.generateContent({&#10;            model: model,&#10;            contents: context,&#10;            config: {&#10;                responseMimeType: &quot;application/json&quot;,&#10;                responseSchema: {&#10;                    type: Type.OBJECT,&#10;                    properties: {&#10;                        id: {type: Type.STRING, description: &quot;Generate random ID like 'STU' + 6 digits&quot;},&#10;                        name: {type: Type.STRING, description: &quot;Họ và tên đầy đủ&quot;},&#10;                        email: {type: Type.STRING, description: &quot;Email&quot;},&#10;                        phone: {type: Type.STRING, description: &quot;Số điện thoại&quot;},&#10;                        address: {type: Type.STRING, description: &quot;Địa chỉ&quot;},&#10;                        dob: {type: Type.STRING, description: &quot;Ngày sinh format YYYY-MM-DD&quot;},&#10;                        avatarUrl: {type: Type.STRING, description: &quot;Use default: https://api.dicebear.com/9.x/notionists/svg?seed=Felix&quot;},&#10;                        gpa: {type: Type.NUMBER, description: &quot;GPA/điểm trung bình&quot;},&#10;                        gpaScale: {type: Type.NUMBER, description: &quot;Thang điểm (thường là 4.0 hoặc 10.0)&quot;},&#10;                        englishLevel: {type: Type.STRING, description: &quot;Trình độ tiếng Anh (IELTS/TOEFL)&quot;},&#10;                        satScore: {type: Type.INTEGER, description: &quot;SAT score nếu có&quot;},&#10;                        targetMajor: {type: Type.STRING, description: &quot;Ngành học mong muốn&quot;},&#10;                        targetCountry: {type: Type.STRING, description: &quot;Quốc gia mong muốn du học&quot;},&#10;                        extracurriculars: {&#10;                            type: Type.ARRAY,&#10;                            items: {&#10;                                type: Type.OBJECT,&#10;                                properties: {&#10;                                    id: {type: Type.STRING},&#10;                                    title: {type: Type.STRING, description: &quot;Tên hoạt động&quot;},&#10;                                    role: {type: Type.STRING, description: &quot;Vai trò&quot;},&#10;                                    year: {type: Type.STRING, description: &quot;Năm tham gia&quot;},&#10;                                    description: {type: Type.STRING, description: &quot;Mô tả chi tiết&quot;}&#10;                                }&#10;                            }&#10;                        },&#10;                        achievements: {&#10;                            type: Type.ARRAY,&#10;                            items: {type: Type.STRING},&#10;                            description: &quot;Danh sách thành tích, giải thưởng&quot;&#10;                        },&#10;                        documents: {&#10;                            type: Type.ARRAY,&#10;                            items: {&#10;                                type: Type.OBJECT,&#10;                                properties: {&#10;                                    id: {type: Type.STRING},&#10;                                    name: {type: Type.STRING},&#10;                                    type: {type: Type.STRING},&#10;                                    uploadDate: {type: Type.STRING},&#10;                                    size: {type: Type.STRING}&#10;                                }&#10;                            },&#10;                            description: &quot;Leave empty array []&quot;&#10;                        }&#10;                    },&#10;                    required: [&quot;id&quot;, &quot;name&quot;, &quot;email&quot;, &quot;phone&quot;, &quot;address&quot;, &quot;dob&quot;, &quot;avatarUrl&quot;, &quot;gpa&quot;, &quot;gpaScale&quot;, &#10;                               &quot;englishLevel&quot;, &quot;targetMajor&quot;, &quot;targetCountry&quot;, &quot;extracurriculars&quot;, &quot;achievements&quot;, &quot;documents&quot;]&#10;                }&#10;            }&#10;        });&#10;&#10;        const jsonText = response.text || &quot;{}&quot;;&#10;        const profile = JSON.parse(jsonText) as StudentProfile;&#10;        &#10;        return profile;&#10;&#10;    } catch (error) {&#10;        console.error(&quot;Error scanning CV with Gemini AI:&quot;, error);&#10;        return null;&#10;    }&#10;};&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/types.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/types.ts" />
              <option name="updatedContent" value="// Re-export types from components&#10;export * from '@/components/types';&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>