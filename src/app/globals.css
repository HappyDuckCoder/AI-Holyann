@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-surface: var(--surface);
  --color-surface-elevated: var(--surface-elevated);
  --color-overlay: var(--overlay);

  /* Cập nhật Font theo Brand */
  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;
  --font-heading: "Montserrat", ui-sans-serif, system-ui, sans-serif;
  /* Provide a safe fallback mono font stack to avoid unresolved custom property */
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono",
    "Courier New", monospace;

  /* Mapping các biến màu */
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-destructive: var(--destructive);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
}

/* 3. ROOT VARIABLES - LIGHT MODE (Giao diện Sáng) */
:root {
  --radius: 0.625rem;

  /* Background hierarchy */
  --background: #ffffff;
  --surface: #f8fafc;
  --surface-elevated: #ffffff;
  --overlay: rgba(0, 0, 0, 0.5);
  --overlay-dark: rgba(0, 0, 0, 0.9);

  /* Chữ màu đen ánh xanh (Dark Text) */
  --foreground: #0f172a;

  /* Card: Nền trắng */
  --card: #ffffff;
  --card-foreground: #0f172a;
  --popover: #ffffff;
  --popover-foreground: #0f172a;

  /* PRIMARY: Xanh Holyann Đậm (#0F4C81) - Dùng cho nút chính, tiêu đề */
  --primary: #0f4c81;
  --primary-foreground: #ffffff;

  /* SECONDARY: Xanh Cyan/Sky (#00B4DB) - Dùng cho Gradient, Icon */
  --secondary: #00b4db;
  --secondary-foreground: #ffffff;

  /* BRAND helper colors discovered in codebase */
  --brand-cyan: #00c6ff; /* used in gradients and accents */
  --brand-blue: #0072ff; /* brighter blue used for accents */
  --accent-alt: #f59e0b; /* used in data.ts as accent */
  --brand-deep: #0f6093; /* darker blue used in dashboard/profile */
  --brand-deep-darker: #0a4b75; /* hover/darker */
  --brand-gradient2: #2b8cc9; /* secondary gradient stop */
  --tick-gray-500: #6b7280; /* alternate tick color */

  /* ACCENT: Màu Cam Vàng (#F5A623) - Dùng cho nút CTA quan trọng */
  --accent: #f5a623;
  --accent-foreground: #ffffff;

  /* Extra UI colors */
  --grit-perseverance: #8b5cf6; /* purple */
  --grit-consistency: #ec4899; /* pink */
  --grit-strong: #9333ea; /* purple darker */
  --muted-light: #e5e7eb; /* gray for lighter fills */
  --tick-gray: #4b5563; /* axis/tick text */
  --stroke-blue: #2563eb; /* chart stroke */
  --tw-blue-500: #3b82f6; /* tailwind blue-500 used in charts */

  /* Footer background (matches used hex) */
  --footer-bg: #0f172a;
  --instagram: #e1306c;

  /* Google / Facebook brand colors used in social buttons */
  --google-blue: #4285f4;
  --google-green: #34a853;
  --google-yellow: #fbbc05;
  --google-red: #ea4335;
  --facebook-blue: #1877f2;

  /* MUTED: Xám xanh nhạt (#F1F5F9) - Dùng cho nền phụ */
  --muted: #f1f5f9;
  --muted-foreground: #64748b; /* Slate-500 */

  --destructive: #ef4444;

  /* Border: Xám nhạt */
  --border: #e2e8f0;
  --input: #e2e8f0;
  --ring: #0f4c81; /* Ring focus theo màu brand */
}

/* 4. DARK MODE CONFIG (Giao diện Tối - Layered Depth System) */
.dark {
  /* Background hierarchy: deep blue/neutral (not pure black) */
  --background: #0c1222; /* Deep blue-neutral base */
  --surface: #131c2e; /* Slightly lighter - section level */
  --surface-elevated: #1a2742; /* Elevated - cards, modals */
  --overlay: rgba(0, 0, 0, 0.6);
  --overlay-dark: rgba(0, 0, 0, 0.92);

  /* Typography - WCAG AA contrast */
  --foreground: #f1f5f9; /* Slate-100 - strong readable */
  --muted-foreground: #94a3b8; /* Slate-400 - muted but readable */

  /* Card: Elevated surface with subtle depth */
  --card: #1a2742;
  --card-foreground: #f1f5f9;
  --popover: #1a2742;
  --popover-foreground: #f1f5f9;

  /* PRIMARY: Bright for dark backgrounds */
  --primary: #38bdf8; /* Sky-400 */
  --primary-foreground: #0c1222;

  /* SECONDARY: Muted surface tone */
  --secondary: #1e293b;
  --secondary-foreground: #f1f5f9;

  /* ACCENT: Warm contrast */
  --accent: #f5a623;
  --accent-foreground: #0c1222;

  /* MUTED: Section backgrounds */
  --muted: #1e293b;
  /* muted-foreground already set above */

  --destructive: #f87171;
  --border: #334155; /* Slate-700 - visible but subtle */
  --input: #1e293b;
  --ring: #38bdf8;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  html {
    scroll-behavior: smooth;
    @apply transition-colors duration-300;
  }

  body {
    @apply bg-background text-foreground font-sans transition-colors duration-300;
  }

  /* Áp dụng font heading cho các thẻ H */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading font-bold;
    /* Ở Light mode là màu xanh đậm, Dark mode tự động chuyển theo biến --foreground hoặc --primary */
    @apply text-primary dark:text-foreground;
  }

  /* Custom Scrollbar Styles - Global */
  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  *::-webkit-scrollbar-track {
    @apply bg-muted rounded-full;
  }

  *::-webkit-scrollbar-thumb {
    @apply bg-primary/60 hover:bg-primary/80 rounded-full;
    border: 2px solid transparent;
    background-clip: padding-box;
  }

  /* Firefox - theme-aware */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgb(59 130 246) rgb(243 244 246);
  }

  .dark * {
    scrollbar-width: thin;
    scrollbar-color: var(--border) var(--surface);
  }

  .dark *::-webkit-scrollbar-track {
    background: var(--surface);
  }

  .dark *::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 9999px;
  }

  .dark *::-webkit-scrollbar-thumb:hover {
    background: var(--muted-foreground);
  }
}

@layer components {
  /* Navbar - Light: Holyann gradient | Dark: SaaS floating depth */
  .navbar-header {
    @apply transition-all duration-300;
    /* Light mode: Holyann brand gradient xanh-trắng */
    background: linear-gradient(to right, var(--primary), var(--secondary));
    color: var(--primary-foreground);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }
  .dark .navbar-header {
    background: rgb(15 23 42 / 0.85);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    color: rgb(248 250 252);
  }
  /* Gradient Text thương hiệu */
  .text-gradient {
    @apply bg-gradient-to-r from-[var(--primary)] to-[var(--brand-cyan)] bg-clip-text text-transparent dark:from-[var(--primary)] dark:to-[var(--secondary)];
  }

  /* Nút bấm Gradient */
  .btn-holyann {
    @apply bg-gradient-to-r from-[var(--primary)] to-[var(--brand-cyan)] text-white font-heading font-semibold
        hover:opacity-90 transition-all duration-300 shadow-md hover:translate-y-[-2px] rounded-lg px-6 py-2
        dark:from-[var(--primary)] dark:to-[var(--secondary)];
    /* Gradient sáng hơn trong dark mode */
  }

  /* Tiêu đề Section */
  .section-title {
    @apply font-heading text-3xl font-bold text-center uppercase tracking-wide text-primary dark:text-white relative mb-8;
  }

  .section-title::after {
    content: "";
    @apply block w-16 h-1 bg-[var(--secondary)] dark:bg-[var(--accent)] mx-auto mt-2 rounded-full;
  }

  /* Card Style */
  .card-holyann {
    @apply bg-card rounded-2xl shadow-sm border border-border p-6 hover:shadow-md transition-all duration-300;
  }

  /* Modal overlay - semantic token */
  .modal-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center;
    background-color: var(--overlay);
  }
}

/* Material Symbols */
.material-symbols-outlined {
  font-family: "Material Symbols Outlined";
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: "liga";
  -webkit-font-smoothing: antialiased;
  font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
}

/* Auth pages: grid background in dark mode */
.dark .auth-page-grid {
  background-image:
    linear-gradient(to right, rgb(255 255 255 / 0.04) 1px, transparent 1px),
    linear-gradient(to bottom, rgb(255 255 255 / 0.04) 1px, transparent 1px);
  background-size: 28px 28px;
}

/* Landing: smooth scroll for anchor links */
html {
  scroll-behavior: smooth;
}
